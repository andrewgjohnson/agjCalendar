/**
 * Javascript source code of agjCalendar v1.2.2.
 *
 * Copyright (c) 2013–2024 Andrew G. Johnson <andrew@andrewgjohnson.com>
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the “Software”), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 * THE SOFTWARE IS PROVIDED “AS IS”, WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 * SOFTWARE.
 * @file The Javascript source code for the agjCalendar jQuery plugin.
 * @copyright 2013–2024 Andrew G. Johnson <andrew@andrewgjohnson.com>
 * @license MIT
 * @see {@link https://github.com/andrewgjohnson/agjCalendar GitHub Repository}
 * @see {@link https://agjCalendar.agjjQuery.org/ Online Documentation}
 * @author Andrew G. Johnson <andrew@andrewgjohnson.com>
 * @version 1.2.2
 */
!function(F){"use strict";function w(e){for(var a={a:"am",A:"AM",c:"2000-01-01T00:00:00+00:00",d:"01",D:L.en.days.abbreviated[0],F:L.en.months.full[0],g:"1",G:"0",h:"01",H:"00",i:"00",j:"1",l:L.en.days.full[0],L:"0",m:"01",M:L.en.months.abbreviated[0],n:"1",N:"1",o:"2000",r:L.en.days.abbreviated[0]+", 25 "+L.en.months.abbreviated[0]+" 2024 01:21:33 +0000",s:"00",S:"st",t:"28",u:"123456",U:"1000000000",v:"123",w:"0",W:"1",x:"2000",X:"+2000",y:"00",Y:"2000",z:"0"},t="",n=0;e.length>n;){var r,o=!1;for(r in a)if(Object.prototype.hasOwnProperty.call(a,r)&&e.substring(n,n+r.length)===r){t+=a[r],n+=r.length,o=!0;break}o||(t+=e.substring(n,n+1),n++)}return-1!==F.agjCalendar.stringToDate(t,e,L.en)}function e(){try{return"function"!=typeof Promise.prototype.finally?!1:"function"==typeof Object.entries&&(new Function("async function test() { await Promise.resolve(); }")(),new RegExp("(?<=a)b"),new RegExp("\\p{Script=Hiragana}","u"),!0)}catch{return}}function b(){var e="([";return e+=t.join(""),a&&(e+="\\p{Emoji}\\u200D(\\uFE0F|\\u200D\\p{Emoji_Presentation}\\p{Extended_Pictographic})*"),e=e+"]+"+")"}function y(e){e="agjCalendar Error! "+e;var a=window.console;a&&a.error?a.error(e):a&&a.log&&a.log(e)}function M(e){return new RegExp("^"+b()+"$","gu").test(e)}function x(e){return"string"!=typeof e?e:e.replace(/\\u([\dA-F]{4})/gi,function(e,a){return String.fromCharCode(parseInt(a,16))}).replace(/\\u\{([\dA-F]{1,6})\}/gi,function(e,a){a=parseInt(a,16);return a<=65535?String.fromCharCode(a):(a-=65536,String.fromCharCode(55296+(a>>10),a%1024+56320))})}function Y(e,a){if(void 0===a&&(a=!1),e.overwriteDayOptions){var t=F(e[a?"endMonthSelector":"monthSelector"]),n=F(e[a?"endDaySelector":"daySelector"]);if(n.find("option").remove(),H["YYYY-MM"].test(t.val())){e.allowBlankDates&&n.append('<option value=""></option>');for(var r,o,l=z(e,a),d=(e.allowRange&&a&&(r=z(e,!1)),new Date(e.minimumDate.getFullYear(),e.minimumDate.getMonth(),e.minimumDate.getDate())),i=(a&&(-1===r?d.setFullYear(d.getFullYear(),d.getMonth(),d.getDate()+e.minimumRange):d.setFullYear(r.getFullYear(),r.getMonth(),r.getDate()+e.minimumRange)),d.setHours(0,0,0,0),new Date(e.maximumDate.getFullYear(),e.maximumDate.getMonth(),e.maximumDate.getDate()-e.minimumRange)),s=(a&&(-1===r||(i.setFullYear(r.getFullYear(),r.getMonth(),r.getDate()+e.maximumRange),i>e.maximumDate))&&i.setFullYear(e.maximumDate.getFullYear(),e.maximumDate.getMonth(),e.maximumDate.getDate()),i.setHours(23,59,59,999),t.val().substring(t.val().lastIndexOf("-")+1,t.val().lastIndexOf("-")+3)),s=parseInt(s,10)-1,u=F.agjCalendar.stringToDate(t.val()+"-01","Y-m-d");u<i&&u.getMonth()===s;)d<=u&&(o="<option",o+=' value="'+F.agjCalendar.dateToString(u,"d")+'"',-1!==l&&u.getDate()===l.getDate()&&(o+=' selected="selected"'),o=(o+=">")+F.agjCalendar.dateToString(u,e.dateFormatDayInput,e.translations)+"</option>",n.append(o)),u.setFullYear(u.getFullYear(),u.getMonth(),u.getDate()+1)}0===n.find("option").length&&n.append('<option value=""></option>')}}function S(e,a){if(void 0===a&&(a=!1),e.overwriteMonthOptions)for(var t,n=F(e[a?"endMonthSelector":"monthSelector"]),r=(n.find("option").remove(),e.allowBlankDates&&n.append('<option value=""></option>'),z(e,a)),o=(e.allowRange&&a&&(t=z(e,!1)),new Date(e.minimumDate.getFullYear(),e.minimumDate.getMonth(),e.minimumDate.getDate())),l=(a&&(-1===t?o.setFullYear(o.getFullYear(),o.getMonth(),o.getDate()+e.minimumRange):o.setFullYear(t.getFullYear(),t.getMonth(),t.getDate()+e.minimumRange)),o.setHours(0,0,0,0),new Date(e.maximumDate.getFullYear(),e.maximumDate.getMonth(),e.maximumDate.getDate()-e.minimumRange)),d=(a&&(-1===t||(l.setFullYear(t.getFullYear(),t.getMonth(),t.getDate()+e.maximumRange),l>e.maximumDate))&&l.setFullYear(e.maximumDate.getFullYear(),e.maximumDate.getMonth(),e.maximumDate.getDate()),l.setHours(23,59,59,999),new Date(o.getFullYear(),o.getMonth(),o.getDate()));d<l;){var i="<option";i+=' value="'+F.agjCalendar.dateToString(d,"Y-m")+'"',-1!==r&&d.getFullYear()===r.getFullYear()&&d.getMonth()===r.getMonth()&&(i+=' selected="selected"'),i=(i+=">")+F.agjCalendar.dateToString(d,e.dateFormatMonthInput,e.translations)+"</option>",n.append(i),d.setFullYear(d.getFullYear(),d.getMonth()+1,1)}}function k(e,a){1!==r?e.trigger(a):e[a]()}var O=[],T=!1,E="",I="",R=0,N=0,r=parseInt(F.fn.jquery.split(".")[0],10),A=2147483647,a=!1,H={"YYYY-MM":new RegExp(/^-?([0-9]+)-([0-9]{2})$/),"YYYY-MM-DD":new RegExp(/^-?([0-9]+)-([0-9]{2})-([0-9]{2})$/)},t=[" ","0-9","'",".","\\-","/","A-Z","a-z","\\u00BA","\\u00C0-\\u00D6","\\u00D8-\\u00F6","\\u00F8-\\u00FF","\\u0600-\\u06FF","\\u0750-\\u077F","\\u08A0-\\u08FF","\\uFB50-\\uFDFD","\\uFE70-\\uFEFF","\\u0980-\\u09FF","\\u0590-\\u05FF","\\u0900-\\u097F","\\u4E00-\\u9FFF","\\u3040-\\u30FF","\\uAC00-\\uD7AF","\\u0900-\\u097F","\\u0A00-\\u0A7F","\\u0400-\\u04FF","\\u0C00-\\u0C7F","\\u200C","\\u00C7","\\u00E7","\\u011E","\\u011F","\\u0130","\\u0131","\\u00D6","\\u00F6","\\u015E","\\u015F","\\u00DC","\\u00FC","\\u0780-\\u07BF","\\u0100-\\u024F","\\u1E00-\\u1EFF"],L={en:{days:{full:{0:"Sunday",1:"Monday",2:"Tuesday",3:"Wednesday",4:"Thursday",5:"Friday",6:"Saturday"},abbreviated:{0:"Sun",1:"Mon",2:"Tue",3:"Wed",4:"Thu",5:"Fri",6:"Sat"},short:{0:"S",1:"M",2:"T",3:"W",4:"T",5:"F",6:"S"}},months:{full:{0:"January",1:"February",2:"March",3:"April",4:"May",5:"June",6:"July",7:"August",8:"September",9:"October",10:"November",11:"December"},abbreviated:{0:"Jan",1:"Feb",2:"Mar",3:"Apr",4:"May",5:"Jun",6:"Jul",7:"Aug",8:"Sep",9:"Oct",10:"Nov",11:"Dec"}},ordinalSuffixes:{1:"st",2:"nd",3:"rd",4:"th",5:"th",6:"th",7:"th",8:"th",9:"th",10:"th",11:"th",12:"th",13:"th",14:"th",15:"th",16:"th",17:"th",18:"th",19:"th",20:"th",21:"st",22:"nd",23:"rd",24:"th",25:"th",26:"th",27:"th",28:"th",29:"th",30:"th",31:"st"},meridiemIndicators:{lowercase:{0:"am",1:"pm"},uppercase:{0:"AM",1:"PM"}},hideCalendar:"Hide Calendar",nextMonth:"Next Month",previousMonth:"Previous Month",poweredByBefore:"Powered by",poweredByAfter:"",blankDateText:"Select a Date"}},W=function(e){var a,t,n,r,o;e.allowRange&&-1!==(a=z(e))&&(t=!1,n=new Date(a.getFullYear(),a.getMonth(),a.getDate()+e.minimumRange),r<e.minimumDate&&n.setFullYear(e.minimumDate.getFullYear(),e.minimumDate.getMonth(),e.minimumDate.getDate()),(r=new Date(a.getFullYear(),a.getMonth(),a.getDate()+e.maximumRange))>e.maximumDate&&r.setFullYear(e.maximumDate.getFullYear(),e.maximumDate.getMonth(),e.maximumDate.getDate()),t=-1!==(o=z(e,!0))&&(o<n||r<o)&&("always"===e.autoSetEndDate||"dates"===e.autoSetEndDate)||-1===o&&("always"===e.autoSetEndDate||"blanks"===e.autoSetEndDate)||t)&&((o=new Date(a.getFullYear(),a.getMonth(),a.getDate()+e.defaultRange))<n?o.setFullYear(n.getFullYear(),n.getMonth(),n.getDate()):r<o&&o.setFullYear(r.getFullYear(),r.getMonth(),r.getDate()),J(e,o,!0))},B=function(){function e(){var e,a;F.agjCalendar.isActive()&&void 0!==(a=F("#agjCalendar")).attr("data-agjCalendar-active")&&0<a.attr("data-agjCalendar-active").length&&-1!==parseInt(a.attr("data-agjCalendar-active"),10)&&(e=O[parseInt(a.attr("data-agjCalendar-active"),10)],a=!0===a.attr("data-agjCalendar-active-is-end")||"true"===a.attr("data-agjCalendar-active-is-end"),Z(e,a))}var a=F("body").append('<div id="agjCalendar-modal-background"></div><div id="agjCalendar"><div id="agjCalendar-header"><div id="agjCalendar-header-inner"><a href="#" id="agjCalendar-hide"></a><span id="agjCalendar-powered-by-before"></span><a href="https://agjCalendar.agjjQuery.org/" target="_blank" title="agjCalendar" id="agjCalendar-powered-by">agjCalendar</a><span id="agjCalendar-powered-by-after"></span></div></div><div id="agjCalendar-body"><div id="agjCalendar-first"><div class="agjCalendar-month"><div class="agjCalendar-month-inner-1"><div class="agjCalendar-month-inner-2"><select id="agjCalendar-dropdown"></select><a href="#" class="agjCalendar-next-month"><span class="agjCalendar-next-month-inner"></span></a><a href="#" class="agjCalendar-previous-month"><span class="agjCalendar-previous-month-inner"></span></a></div></div></div><div class="agjCalendar-days"></div></div><div id="agjCalendar-second"><div class="agjCalendar-month"><div class="agjCalendar-month-inner" colspan="5"><strong id="agjCalendar-second-month-name"></strong><a href="#" class="agjCalendar-next-month"><span class="agjCalendar-next-month-inner"></span></a><a href="#" class="agjCalendar-previous-month"><span class="agjCalendar-previous-month-inner"></span></a></div></div><div class="agjCalendar-days"></div></div><div id="agjCalendar-third"><div class="agjCalendar-month"><div class="agjCalendar-month-inner" colspan="5"><strong id="agjCalendar-third-month-name"></strong><a href="#" class="agjCalendar-next-month"><span class="agjCalendar-next-month-inner"></span></a><a href="#" class="agjCalendar-previous-month"><span class="agjCalendar-previous-month-inner"></span></a></div></div><div class="agjCalendar-days"></div></div></div></div>').find("#agjCalendar");$(a.find("#agjCalendar-hide"),"click",function(){return F.agjCalendar.deactivate(),!1}),$(a.find("#agjCalendar-dropdown"),"change",function(){var e=F.agjCalendar.stringToDate(F(this).val()+"-01","Y-m-d");-1!==e&&G(e)}),$(a.find("a.agjCalendar-previous-month, a.agjCalendar-next-month"),"click",function(){var e=F.agjCalendar.stringToDate(F("#agjCalendar-dropdown").val()+"-01","Y-m-d");return-1!==e&&(F(this).hasClass("agjCalendar-previous-month")?e.setFullYear(e.getFullYear(),e.getMonth()-1,e.getDate()):F(this).hasClass("agjCalendar-next-month")&&e.setFullYear(e.getFullYear(),e.getMonth()+1,e.getDate()),e=F.agjCalendar.dateToString(e,"Y-m"),0<a.find("#agjCalendar-dropdown option[value="+e+"]").length)&&(a.find("#agjCalendar-dropdown").val(e),k(a.find("#agjCalendar-dropdown"),"change")),!1});return $(F(window),"resize",e),$(F(document),"resize",e),$(F(document),"scroll",e),$(F(document),"keyup",function(e){return"Escape"!==e.key||!F.agjCalendar.isActive()||(k(F("*:focus"),"blur"),F.agjCalendar.deactivate(),!1)}),$(F(document),"click",function(e){if(T=!1,F.agjCalendar.isActive()){var a="agjCalendar"===F(e.target).attr("id")||0<F(e.target).parents("#agjCalendar").length,e=F(e.target).is(".agjCalendar-active-input")||0<F(e.target).parents(".agjCalendar-active-input").length;if(a||e)T=!0;else if(!a&&!e){a=-1,e=F("#agjCalendar").attr("data-agjCalendar-active");switch(a=0<=e?O[e].calendarDisplay:a){case"modal":case"full":break;default:F.agjCalendar.deactivate()}}}return!0}),a},P=function(e){if(null===e||"object"!=typeof e)return e;var a,t=e.constructor();for(a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=P(e[a]));return t},z=function(e,a){var t=-1;if(!(a=!0!==a?!1:a)||e.allowRange)switch(e.inputType){case"text":t=F.agjCalendar.stringToDate(F(e[a?"endDateSelector":"dateSelector"]).val(),e.dateFormat,e.translations);break;case"dropdown":var n=F(e[a?"endMonthSelector":"monthSelector"]).val();n=(n+="-")+F(e[a?"endDaySelector":"daySelector"]).val(),t=F.agjCalendar.stringToDate(n,"Y-m-d",e.translations)}if(-1===t)return-1;if(t<e.minimumDate)return new Date(e.minimumDate.getFullYear(),e.minimumDate.getMonth(),e.minimumDate.getDate());if(t>e.maximumDate)return new Date(e.maximumDate.getFullYear(),e.maximumDate.getMonth(),e.maximumDate.getDate());if(0<e.excludeDates.length)for(var r=0;r<e.excludeDates.length;r++){var o=e.excludeDates[r];if(t.getFullYear()===o.getFullYear()&&t.getMonth()===o.getMonth()&&t.getDate()===o.getDate())return-1}return t},q=function(e){return"px"===e.substring(e.length-2).toLowerCase()&&(e=e.substring(0,e.length-2)),isNaN(e)?0:parseInt(e,10)},j=function(e,a){return new Date(a,parseInt(e,10)+1,0).getDate()},X=function(e){
/**
 * This function was inspired by jQuery UI’s datepicker_getZindex function
 * which was released under the following license.
 * @license MIT
 * Copyright OpenJS Foundation and other contributors
 * Released under the MIT license.
 * https://jquery.org/license
 * @see {@link https://github.com/jquery/jquery-ui/blob/1.13.3/ui/widgets/datepicker.js#L43}
 * @see {@link https://jquery.org/license}
 */
for(;e.length&&e[0]!==document;){switch(e.css("position")){case"absolute":case"relative":case"fixed":var a=parseInt(e.css("zIndex"),10);if(isNaN(a)||0===a)break;return a}e=e.parent()}return 0},m=function(e){for(var a=e.height(),t=["margin-top","borderTopWidth","padding-top","padding-bottom","borderBottomWidth","margin-bottom"],n=0;n<t.length;n++){var r=q(e.css(t[n]));isNaN(r)||(a+=r)}return a},c=function(e){for(var a=e.width(),t=["margin-left","borderLeftWidth","padding-left","padding-right","borderRightWidth","margin-right"],n=0;n<t.length;n++){var r=q(e.css(t[n]));isNaN(r)||(a+=r)}return a},_=function(){var e=F("#agjCalendar-modal-background");e.is(":visible")&&(window.scrollTo(R,N),F("body").css({marginRight:E,overflow:I}),e.hide())},U=function(e,a){if(F.agjCalendar.isActive()){var t=F("#agjCalendar");if(parseInt(t.attr("data-agjCalendar-active"),10)===e)return(!0===t.attr("data-agjCalendar-active-is-end")||"true"===t.attr("data-agjCalendar-active-is-end"))===a}return!1},Q=function(e){switch(e=isNaN(e)?e:parseInt(e,10)){case 0:return"Zero";case 1:return"One";case 2:return"Two";case 3:return"Three";case 4:return"Four";case 5:return"Five";case 6:return"Six";case 7:return"Seven";case 8:return"Eight";case 9:return"Nine";case 10:return"Ten"}return-1},Z=function(e,a){var t=F("#agjCalendar");switch(e.calendarDisplay){case"inline":switch(e.inputType){case"text":var n=F(e[a?"endDateSelector":"dateSelector"]),r=F(e[a?"endExpanderSelector":"expanderSelector"]);1===t.length&&1===n.length&&((o=0)<r.length&&(o=r.offset().top,o+=m(r)),"hidden"===n.attr("type")?(s=n.parent().offset().top,s+=m(n.parent())):(s=n.offset().top,s+=m(n)),l=Number.MAX_SAFE_INTEGER,0<r.length&&(l=r.offset().left),n=("hidden"===n.attr("type")?n.parent():n).offset().left,t.css({left:Math.min(l,n),top:Math.max(o,s)+1}));break;case"dropdown":var o,l,d,i,n=F(e[a?"endMonthSelector":"monthSelector"]),s=F(e[a?"endDaySelector":"daySelector"]),r=F(e[a?"endExpanderSelector":"expanderSelector"]);1===t.length&&1===n.length&&1===s.length&&((o=0)<r.length&&(o=r.offset().top,o+=m(r)),d=n.offset().top,d+=m(n),i=s.offset().top,i+=m(s),o=1+Math.max(o,d,i),l=Number.MAX_SAFE_INTEGER,0<r.length&&(l=r.offset().left),d=n.offset().left,i=s.offset().left,r=Math.min(l,d,i),t.css({left:r,top:o}))}t.removeClass("agjCalendar-full").css({position:"absolute"});break;case"modal":t.removeClass("agjCalendar-full");var u=F(window).width()/2,g=(u-=c(t)/2,F(window).height()/2);g-=m(t)/2,t.css({left:u,position:"fixed",top:g}),F("#agjCalendar-modal-background").removeClass("agjCalendar-modal-background-full");break;case"full":t.addClass("agjCalendar-full").css({left:0,position:"fixed",top:0}),F("#agjCalendar-modal-background").addClass("agjCalendar-modal-background-full")}},G=function(e){1!==e.getDate()&&e.setFullYear(e.getFullYear(),e.getMonth(),1),e.setHours(0,0,0,0);var a=F("#agjCalendar");if(0<a.length){for(var t=O[a.attr("data-agjCalendar-active")],n=!0===a.attr("data-agjCalendar-active-is-end")||"true"===a.attr("data-agjCalendar-active-is-end"),r=z(t),o=-1,l=(t.allowRange&&(o=z(t,!0)),F("#agjCalendar-dropdown")),d=1;d<=t.calendarCount;d++){var i=t.startWeekOnMonday?(e.getDay()+6)%7:e.getDay(),s=-1;switch(d){case 1:s="#agjCalendar-first";break;case 2:s="#agjCalendar-second";break;case 3:s="#agjCalendar-third"}switch(d){case 1:l.val(F.agjCalendar.dateToString(e,"Y-m"));break;case 2:case 3:F(s+"-month-name").text(F.agjCalendar.dateToString(e,t.dateFormatMonthLabel,t.translations))}var u=0,g="";if(0<i)for(var g=(g+="<div")+' class="agjCalendar-week agjCalendar-week-one"'+">",m=1;m<=i;m++)u++,g=(g+='<div class="agjCalendar-blank agjCalendar-')+L.en.days.full[(u-(t.startWeekOnMonday?0:1))%7].toLowerCase()+'"></div>';var c=new Date(t.minimumDate.getFullYear(),t.minimumDate.getMonth(),t.minimumDate.getDate()),h=(t.allowRange&&n&&(-1===r?c.setFullYear(c.getFullYear(),c.getMonth(),c.getDate()+t.minimumRange):c.setFullYear(r.getFullYear(),r.getMonth(),r.getDate()+t.minimumRange)),c.setHours(0,0,0,0),new Date(t.maximumDate.getFullYear(),t.maximumDate.getMonth(),t.maximumDate.getDate()));for(t.allowRange&&(n?-1!==r&&(h.setFullYear(r.getFullYear(),r.getMonth(),r.getDate()+t.maximumRange),h>t.maximumDate)&&h.setFullYear(t.maximumDate.getFullYear(),t.maximumDate.getMonth(),t.maximumDate.getDate()):h.setFullYear(h.getFullYear(),h.getMonth(),h.getDate()-t.minimumRange)),h.setHours(23,59,59,999),m=1;m<=42-i;m++){u%7==0&&(0<g.length&&(g+="</div>"),g=(g+='<div class="agjCalendar-week')+" agjCalendar-week-"+Q(Math.round(u/7)+1).toLowerCase()+'">');var f=j(e.getMonth(),e.getFullYear());if(t.startWeekOnMonday&&f++,m<=f){var p=new Date(e.getFullYear(),e.getMonth(),m),D=!1;if(c<=p&&p<=h&&(D=!0,0<t.excludeDates.length))for(var v=0;v<t.excludeDates.length;v++){var C=t.excludeDates[v];if(p.getFullYear()===C.getFullYear()&&p.getMonth()===C.getMonth()&&p.getDate()===C.getDate()){D=!1;break}}f="agjCalendar-";f+=L.en.days.full[(u+(t.startWeekOnMonday?1:0))%7].toLowerCase(),D&&(f+=" agjCalendar-selectable"),p.getFullYear()===(new Date).getFullYear()&&p.getMonth()===(new Date).getMonth()&&p.getDate()===(new Date).getDate()&&(f+=" agjCalendar-today"),-1!==r&&p.getFullYear()===r.getFullYear()&&p.getMonth()===r.getMonth()&&p.getDate()===r.getDate()&&(f+=n?" agjCalendar-other-active":" agjCalendar-active"),-1!==o&&p.getFullYear()===o.getFullYear()&&p.getMonth()===o.getMonth()&&p.getDate()===o.getDate()&&(f+=n?" agjCalendar-active":" agjCalendar-other-active"),-1!==r&&-1!==o&&r!==o&&(r<o&&r<=p&&p<=o||o<r&&p<=r&&o<=p)&&(f+=" agjCalendar-in-range"),g+='<div class="'+f+'">',D&&(g=(g=(g+='<a href="#"')+' title="'+F.agjCalendar.dateToString(p,t.dateFormatDateTooltip,t.translations)+'" data-agjCalendar-date="')+F.agjCalendar.dateToString(p,"Y-m-d")+'">'),g+=F.agjCalendar.dateToString(p,t.dateFormatDate,t.translations),D&&(g+="</a>"),g+="</div>"}else g=(g+='<div class="agjCalendar-blank agjCalendar-')+L.en.days.full[(u+(t.startWeekOnMonday?1:0))%7].toLowerCase()+'"></div>';u++}g+="</div>",F(s+" div.agjCalendar-week").remove(),F(s).append(g),7===F(s+" div.agjCalendar-week-five div.agjCalendar-blank").length?F(s).removeClass("agjCalendar-five-weeks agjCalendar-six-weeks").addClass("agjCalendar-four-weeks"):7===F(s+" div.agjCalendar-week-six div.agjCalendar-blank").length?F(s).removeClass("agjCalendar-four-weeks agjCalendar-six-weeks").addClass("agjCalendar-five-weeks"):F(s).removeClass("agjCalendar-four-weeks agjCalendar-five-weeks").addClass("agjCalendar-six-weeks"),e.setFullYear(e.getFullYear(),e.getMonth()+1,1)}$(F("div.agjCalendar-week a"),"click",function(){var e=F.agjCalendar.stringToDate(F(this).attr("data-agjCalendar-date"),"Y-m-d");return J(t,e,n),t.allowRange&&!n&&W(t),F.agjCalendar.deactivate(),!1}),null!==l.val()&&((a=F.agjCalendar.stringToDate(l.val()+"-01","Y-m-d")).setFullYear(a.getFullYear(),a.getMonth()+1,a.getDate()),0===l.find("option[value="+F.agjCalendar.dateToString(a,"Y-m")+"]").length?F("a.agjCalendar-next-month").fadeTo(1,.33):F("a.agjCalendar-next-month").fadeTo(1,1),a.setFullYear(a.getFullYear(),a.getMonth()-2,a.getDate()),0===l.find("option[value="+F.agjCalendar.dateToString(a,"Y-m")+"]").length?F("a.agjCalendar-previous-month").fadeTo(1,.33):F("a.agjCalendar-previous-month").fadeTo(1,1))}},J=function(e,a,t){switch(void 0===t&&(t=!1),e.inputType){case"text":var n=F(e[t?"endDateSelector":"dateSelector"]),r="";0<(r="blank"===a?e.translations.blankDateText:F.agjCalendar.dateToString(a,e.dateFormat,e.translations)).length&&(n.val(r),k(n,"change"));break;case"dropdown":var r="blank"===a?"":F.agjCalendar.dateToString(a,"d"),n=F(e[t?"endMonthSelector":"monthSelector"]),o="blank"===a?"":F.agjCalendar.dateToString(a,"Y-m");0<o.length&&0<n.find("option[value="+o+"]").length&&("blank"===a||parseInt(r,10)<=j(a.getMonth(),a.getFullYear()))&&(n.val(o),k(n,"change"),Y(e,t),F(e[t?"endDaySelector":"daySelector"]).val(r),k(F(e[t?"endDaySelector":"daySelector"]),"change"))}},K=function(e,a){void 0===a&&(a=!1);for(var t=new Date(e.minimumDate.getFullYear(),e.minimumDate.getMonth(),e.minimumDate.getDate()),n=(t.setHours(0,0,0,0),new Date(e.maximumDate.getFullYear(),e.maximumDate.getMonth(),e.maximumDate.getDate())),r=(n.setHours(23,59,59,999),a&&-1!==(a=z(e))&&(t.setFullYear(a.getFullYear(),a.getMonth(),a.getDate()+e.minimumRange),(a=new Date(a.getFullYear(),a.getMonth(),a.getDate()+e.maximumRange))<e.maximumDate)&&n.setFullYear(a.getFullYear(),a.getMonth(),a.getDate()),F("#agjCalendar-dropdown")),o=(r.find("option").remove(),new Date(t.getFullYear(),t.getMonth(),t.getDate()));r.append('<option value="'+F.agjCalendar.dateToString(o,"Y-m")+'">'+F.agjCalendar.dateToString(o,e.dateFormatMonthDropdown,e.translations)+"</option>"),o.setFullYear(o.getFullYear(),o.getMonth()+1,1),o<n;);},$=function(e,a,t,n){return"function"==typeof t&&void 0===n&&(n=t,t=void 0),1!==r?void 0===t?e.on(a,n):e.on(a,t,n):void 0===t?e.bind(a,n):e.bind(a,t,n)};F.agjCalendar=function(e){"object"!=typeof e&&(e={});var a=new Date((new Date).getFullYear()+1,(new Date).getMonth(),(new Date).getDate()),p=(e=function(e,a){if("object"!=typeof e||"object"!=typeof a)return-1;var t=P(e);if(null!=a)for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(t[n]=a[n]);return t}({allowBlankDates:!1,allowRange:!1,autoBlur:null,autoSetEndDate:"dates",calendarCount:1,calendarDisplay:"inline",calendarSize:"small",dateFormat:"m/d/Y",dateFormatDate:"j",dateFormatDateTooltip:"",dateFormatDayInput:"j",dateFormatDayOfWeekTooltip:"l",dateFormatMonthDropdown:"M Y",dateFormatMonthInput:"M Y",dateFormatMonthLabel:"F Y",dateSelector:null,dayNameEllipsis:!0,dayNameFormat:"short",daySelector:null,defaultDate:new Date,defaultEndDate:null,defaultRange:-1,endDateSelector:null,endDaySelector:null,endExpanderSelector:null,endMonthSelector:null,excludeDates:[],expanderSelector:null,forceMaxZIndex:!1,inputType:"text",language:"en",maximumDate:a,maximumRange:-1,minimumDate:new Date,minimumRange:-1,monthSelector:null,overwriteDayOptions:!0,overwriteMonthOptions:!0,startWeekOnMonday:!1,theme:null,translations:{}},e),{disabled:!1,position:O.length});switch(e.language){case"ar":case"bn":case"de":case"es":case"fr":case"he":case"hi":case"it":case"ja":case"ko":case"mr":case"pa":case"pt":case"ru":case"te":case"tr":case"ur":case"vi":case"zh":p.translations=P(L[e.language]);break;default:p.translations=P(L.en)}if("object"==typeof e.translations){for(var t=0,n=["days","months","meridiemIndicators"];t<n.length;t++)if(void 0!==e.translations[n[t]])for(var r in p.translations[n[t]])if(Object.prototype.hasOwnProperty.call(e.translations[n[t]],r)&&void 0!==e.translations[n[t]][r])for(var o in p.translations[n[t]][r])if(Object.prototype.hasOwnProperty.call(e.translations[n[t]][r],o)&&void 0!==e.translations[n[t]][r][o]){if(0<e.translations[n[t]][r][o].length&&!M(e.translations[n[t]][r][o]))return y("Invalid translation `translations["+n[t]+"]["+r+"]["+o+']` value: "'+e.translations[n[t]][r][o]+'"'),-1;p.translations[n[t]][r][o]=e.translations[n[t]][r][o]}if(void 0!==e.translations.ordinalSuffixes)for(var o in p.translations.ordinalSuffixes)if(Object.prototype.hasOwnProperty.call(e.translations.ordinalSuffixes,o)&&void 0!==e.translations.ordinalSuffixes[o]){if(0<e.translations.ordinalSuffixes[o].length&&!M(e.translations.ordinalSuffixes[o]))return y("Invalid translation `translations[ordinalSuffixes]["+o+']` value: "'+e.translations.ordinalSuffixes[o]+'"'),-1;p.translations.ordinalSuffixes[o]=e.translations.ordinalSuffixes[o]}for(var t=0,l=["hideCalendar","nextMonth","previousMonth","poweredByBefore","poweredByAfter","blankDateText"];t<l.length;t++){var d=l[t];if(void 0!==e.translations[d]){if(0<e.translations[d].length&&!M(e.translations[d]))return y("Invalid translation `translations["+d+']` value: "'+e.translations[d]+'"'),-1;p.translations[d]=e.translations[d]}}}switch(!(p.overwriteMonthOptions=!0)===e.overwriteMonthOptions&&(p.overwriteMonthOptions=!1),!(p.overwriteDayOptions=!0)===e.overwriteDayOptions&&(p.overwriteDayOptions=!1),!(p.allowBlankDates=!1)===e.allowBlankDates&&(p.allowBlankDates=!0),!(p.startWeekOnMonday=!1)===e.startWeekOnMonday&&(p.startWeekOnMonday=!0),!(p.allowRange=!1)===e.allowRange&&(p.allowRange=!0),p.inputType="text","dropdown"===e.inputType&&(p.inputType="dropdown"),p.calendarDisplay="inline",e.calendarDisplay){case"modal":case"full":p.calendarDisplay=e.calendarDisplay}switch(p.calendarCount=1,e.calendarDisplay){case"inline":case"modal":switch(e.calendarCount){case 2:case 3:p.calendarCount=e.calendarCount}}switch(p.calendarSize="small",e.calendarDisplay){case"inline":case"modal":switch(e.calendarSize){case"medium":case"large":p.calendarSize=e.calendarSize}}if(!(p.forceMaxZIndex=!1)===e.forceMaxZIndex&&(p.forceMaxZIndex=!0),!(p.autoBlur=!1)===e.autoBlur)p.autoBlur=!0;else if("text"===p.inputType)switch(p.calendarDisplay){case"modal":case"full":p.autoBlur=!0}switch(!(p.dayNameEllipsis=!0)===e.dayNameEllipsis&&(p.dayNameEllipsis=!1),p.dayNameFormat="short",e.dayNameFormat){case"medium":p.dayNameFormat="abbreviated";break;case"abbreviated":case"full":p.dayNameFormat=e.dayNameFormat}switch(e.dateFormat){case 1:p.dateFormat="m/d/Y";break;case 2:p.dateFormat="M j, Y";break;case 3:p.dateFormat="d/m/Y";break;case 4:p.dateFormat="Y-m-d";break;case 5:p.dateFormat="j F Y";break;default:w(e.dateFormat)?p.dateFormat=e.dateFormat:p.dateFormat="m/d/Y"}switch("string"==typeof e.dateFormatDate&&(0<=e.dateFormatDate.indexOf("j")||0<=e.dateFormatDate.indexOf("d")||0<=e.dateFormatDate.indexOf("z"))?p.dateFormatDate=e.dateFormatDate:p.dateFormatDate="j",e.dateFormatDateTooltip){case 1:p.dateFormatDateTooltip="m/d/Y";break;case 2:p.dateFormatDateTooltip="M j, Y";break;case 3:p.dateFormatDateTooltip="d/m/Y";break;case 4:p.dateFormatDateTooltip="Y-m-d";break;case 5:p.dateFormatDateTooltip="j F Y";break;default:w(e.dateFormatDateTooltip)?p.dateFormatDateTooltip=e.dateFormatDateTooltip:"en"===e.language?p.dateFormatDateTooltip="F j, Y":p.dateFormatDateTooltip="j F Y"}switch("string"==typeof e.dateFormatDayOfWeekTooltip&&(0<=e.dateFormatDayOfWeekTooltip.indexOf("D")||0<=e.dateFormatDayOfWeekTooltip.indexOf("l")||0<=e.dateFormatDayOfWeekTooltip.indexOf("N")||0<=e.dateFormatDayOfWeekTooltip.indexOf("w"))?p.dateFormatDayOfWeekTooltip=e.dateFormatDayOfWeekTooltip:p.dateFormatDayOfWeekTooltip="l","string"==typeof e.dateFormatMonthDropdown&&(0<=e.dateFormatMonthDropdown.indexOf("F")||0<=e.dateFormatMonthDropdown.indexOf("m")||0<=e.dateFormatMonthDropdown.indexOf("M")||0<=e.dateFormatMonthDropdown.indexOf("n"))&&(0<=e.dateFormatMonthDropdown.indexOf("o")||0<=e.dateFormatMonthDropdown.indexOf("x")||0<=e.dateFormatMonthDropdown.indexOf("X")||0<=e.dateFormatMonthDropdown.indexOf("y")||0<=e.dateFormatMonthDropdown.indexOf("Y"))?p.dateFormatMonthDropdown=e.dateFormatMonthDropdown:p.dateFormatMonthDropdown="M Y","string"==typeof e.dateFormatMonthInput&&(0<=e.dateFormatMonthInput.indexOf("F")||0<=e.dateFormatMonthInput.indexOf("m")||0<=e.dateFormatMonthInput.indexOf("M")||0<=e.dateFormatMonthInput.indexOf("n"))&&(0<=e.dateFormatMonthInput.indexOf("o")||0<=e.dateFormatMonthInput.indexOf("x")||0<=e.dateFormatMonthInput.indexOf("X")||0<=e.dateFormatMonthInput.indexOf("y")||0<=e.dateFormatMonthInput.indexOf("Y"))?p.dateFormatMonthInput=e.dateFormatMonthInput:p.dateFormatMonthInput="M Y","string"==typeof e.dateFormatDayInput&&(0<=e.dateFormatDayInput.indexOf("d")||0<=e.dateFormatDayInput.indexOf("j")||0<=e.dateFormatDayInput.indexOf("z"))?p.dateFormatDayInput=e.dateFormatDayInput:p.dateFormatDayInput="j","string"==typeof e.dateFormatMonthLabel&&(0<=e.dateFormatMonthLabel.indexOf("F")||0<=e.dateFormatMonthLabel.indexOf("m")||0<=e.dateFormatMonthLabel.indexOf("M")||0<=e.dateFormatMonthLabel.indexOf("n"))&&(0<=e.dateFormatMonthLabel.indexOf("o")||0<=e.dateFormatMonthLabel.indexOf("x")||0<=e.dateFormatMonthLabel.indexOf("X")||0<=e.dateFormatMonthLabel.indexOf("y")||0<=e.dateFormatMonthLabel.indexOf("Y"))?p.dateFormatMonthLabel=e.dateFormatMonthLabel:p.dateFormatMonthLabel="F Y",p.theme="",e.theme){case"red":case"orange":case"yellow":case"green":case"cyan":case"blue":case"purple":case"pink":p.theme=e.theme;break;default:"string"==typeof e.theme&&0===e.theme.toLowerCase().indexOf("custom-")&&(p.theme=e.theme)}switch(p.autoSetEndDate="dates",e.autoSetEndDate){case!0:p.autoSetEndDate="always";break;case!1:p.autoSetEndDate="never";break;case"blanks":case"always":case"never":p.autoSetEndDate=e.autoSetEndDate}if(p.minimumDate=new Date,p.minimumDate.setHours(0,0,0,0),H["YYYY-MM-DD"].test(e.minimumDate)?p.minimumDate=F.agjCalendar.stringToDate(e.minimumDate,"Y-m-d"):e.minimumDate instanceof Date&&p.minimumDate.setFullYear(e.minimumDate.getFullYear(),e.minimumDate.getMonth(),e.minimumDate.getDate()),p.maximumDate=new Date((new Date).getFullYear()+1,(new Date).getMonth(),(new Date).getDate()),p.maximumDate.setHours(23,59,59,999),H["YYYY-MM-DD"].test(e.maximumDate)?(a=F.agjCalendar.stringToDate(e.maximumDate,"Y-m-d"),p.minimumDate<=a&&p.maximumDate.setFullYear(a.getFullYear(),a.getMonth(),a.getDate())):e.maximumDate instanceof Date&&e.maximumDate>=p.minimumDate&&p.maximumDate.setFullYear(e.maximumDate.getFullYear(),e.maximumDate.getMonth(),e.maximumDate.getDate()),p.defaultDate=new Date,H["YYYY-MM-DD"].test(e.defaultDate)||e.defaultDate instanceof Date?(a=new Date,H["YYYY-MM-DD"].test(e.defaultDate)?a=F.agjCalendar.stringToDate(e.defaultDate,"Y-m-d"):a.setFullYear(e.defaultDate.getFullYear(),e.defaultDate.getMonth(),e.defaultDate.getDate()),p.minimumDate<=a&&a<=p.maximumDate&&p.defaultDate.setFullYear(a.getFullYear(),a.getMonth(),a.getDate())):p.allowBlankDates&&"blank"===e.defaultDate&&(p.defaultDate="blank"),p.excludeDates=[],e.excludeDates&&e.excludeDates instanceof Array&&0<e.excludeDates.length)for(t=0;t<e.excludeDates.length;t++){var i=-1;H["YYYY-MM-DD"].test(e.excludeDates[t])?i=F.agjCalendar.stringToDate(e.excludeDates[t],"Y-m-d"):e.excludeDates[t]instanceof Date&&(i=new Date(e.excludeDates[t].getFullYear(),e.excludeDates[t].getMonth(),e.excludeDates[t].getDate())),-1!==i&&p.minimumDate<=i&&i<=p.maximumDate&&p.excludeDates.push(i)}if(p.minimumRange=0,p.maximumRange=0,p.defaultRange=0,p.allowRange){for(var s=0,u=new Date(p.minimumDate.getFullYear(),p.minimumDate.getMonth(),p.minimumDate.getDate());u<=p.maximumDate;)s++,u.setFullYear(u.getFullYear(),u.getMonth(),u.getDate()+1);p.minimumRange=0===s?0:1,!isNaN(e.minimumRange)&&0<=parseInt(e.minimumRange,10)&&parseInt(e.minimumRange,10)<=s&&(p.minimumRange=e.minimumRange),p.maximumRange=0===s?0:s,!isNaN(e.maximumRange)&&0<=parseInt(e.maximumRange,10)&&parseInt(e.maximumRange,10)<=s&&parseInt(e.maximumRange,10)>=p.minimumRange&&(p.maximumRange=e.maximumRange),p.defaultRange=0===s?0:1,isNaN(e.defaultRange)||(a=parseInt(e.defaultRange,10),p.minimumRange<=a&&a<=p.maximumRange&&(p.defaultRange=a)),p.defaultEndDate="blank"===p.defaultDate?"blank":new Date(p.defaultDate.getFullYear(),p.defaultDate.getMonth(),p.defaultDate.getDate()+p.defaultRange),H["YYYY-MM-DD"].test(e.defaultEndDate)||e.defaultEndDate instanceof Date?(a=new Date,H["YYYY-MM-DD"].test(e.defaultEndDate)?a=F.agjCalendar.stringToDate(e.defaultEndDate,"Y-m-d"):a.setFullYear(e.defaultEndDate.getFullYear(),e.defaultEndDate.getMonth(),e.defaultEndDate.getDate()),p.minimumDate<=a&&a<=p.maximumDate&&(p.defaultEndDate=new Date(a.getFullYear(),a.getMonth(),a.getDate()))):p.allowBlankDates&&"blank"===e.defaultEndDate&&(p.defaultEndDate="blank")}function g(e){if(void 0!==F(this).attr("data-agjCalendar-bound-to")&&0<F(this).attr("data-agjCalendar-bound-to").length){if(!U(p.position,e.data.isEnd)){var a=p,t=e.data.isEnd;switch(!0!==t&&(t=!1),F.agjCalendar.isActive()&&!U(a.position,t)&&_(),a.inputType){case"text":F(a[t?"endDateSelector":"dateSelector"]).addClass("agjCalendar-active-input");break;case"dropdown":F(a[t?"endMonthSelector":"monthSelector"]).addClass("agjCalendar-active-input"),F(a[t?"endDaySelector":"daySelector"]).addClass("agjCalendar-active-input")}var n=F("#agjCalendar"),r=(0===n.length&&(n=B()),F("#agjCalendar-modal-background")),o=(n.attr({class:"","data-agjCalendar-active":a.position,"data-agjCalendar-active-is-end":t}),0);if(a.forceMaxZIndex||"inline"!==a.calendarDisplay)o=A;else for(var l=0,d=["dateSelector","endDateSelector","monthSelector","daySelector","endMonthSelector","endDaySelector","expanderSelector","endExpanderSelector"];l<d.length;l++){var i=F(a[d[l]]);0<i.length&&(o=Math.max(o,X(i)))}if(n.css("zIndex",Math.min(A,o)),r.css("zIndex",Math.min(A,o-1)),0<a.theme.length){if("string"==typeof(s=r.attr("class"))&&0<s.length)for(var s=s.split(" "),l=0;l<s.length;l++)0===s[l].indexOf("agjCalendar-theme-")&&r.removeClass(s[l]);r.addClass("agjCalendar-theme-"+a.theme),n.addClass("agjCalendar-theme-"+a.theme)}switch(n.find("#agjCalendar-hide").attr("title",a.translations.hideCalendar).text(a.translations.hideCalendar),n.find("#agjCalendar-powered-by-before").text(0<a.translations.poweredByBefore.length?a.translations.poweredByBefore+" ":""),n.find("#agjCalendar-powered-by-after").text(0<a.translations.poweredByAfter.length?" "+a.translations.poweredByAfter:""),n.find("a.agjCalendar-previous-month").attr("title",a.translations.previousMonth).find("span.agjCalendar-previous-month-inner").text(a.translations.previousMonth),n.find("a.agjCalendar-next-month").attr("title",a.translations.nextMonth).find("span.agjCalendar-next-month-inner").text(a.translations.nextMonth),a.calendarCount){case 2:n.addClass("agjCalendar-double");break;case 3:n.addClass("agjCalendar-triple");break;default:n.addClass("agjCalendar-single")}switch(a.calendarSize){case"medium":n.addClass("agjCalendar-medium");break;case"large":n.addClass("agjCalendar-large");break;default:n.addClass("agjCalendar-small")}a.dayNameEllipsis&&n.addClass("agjCalendar-day-name-ellipsis"),a.startWeekOnMonday&&n.addClass("agjCalendar-start-week-on-monday");for(var u=a.startWeekOnMonday?[1,2,3,4,5,6,0]:[0,1,2,3,4,5,6],g="",l=0;l<u.length;l++){for(var m=new Date;m.getDay()!==u[l];)m.setFullYear(m.getFullYear(),m.getMonth(),m.getDate()+1);g=(g=(g=g+"<div"+(' class="agjCalendar-'+L.en.days.full[u[l]].toLowerCase()+'"'))+(' title="'+F.agjCalendar.dateToString(m,a.dateFormatDayOfWeekTooltip,a.translations)+'"')+">")+a.translations.days[a.dayNameFormat][u[l]]+"</div>"}switch(n.find("div.agjCalendar-days").empty().append(g),a.calendarDisplay){case"full":case"modal":var c=F("body"),h=(E=q(c.css("marginRight")),isNaN(E)&&(E=0),I=c.css("overflow"),F(window).width());c.css({overflow:"hidden"}).css({marginRight:E+F(window).width()-h}),R=F(window).scrollLeft(),N=F(window).scrollTop(),"full"===a.calendarDisplay&&(window.scrollTo(0,1),window.scrollTo(0,0)),F("#agjCalendar-modal-background").show()}K(a,t);var f,e=z(a,t);-1===e&&(-1!==(f=z(a,!1))?e=new Date(f.getFullYear(),f.getMonth(),f.getDate()+a.minimumRange):(e=new Date(a.minimumDate.getFullYear(),a.minimumDate.getMonth(),a.minimumDate.getDate()),t&&e.setFullYear(e.getFullYear(),e.getMonth(),e.getDate()+a.minimumRange))),G(e),Z(a,t),F("body").addClass("agjCalendar-active")}p.autoBlur&&k(F(this),"blur")}return!1}var a=F(e.expanderSelector),m=F(e.endExpanderSelector);if(null!==e.expanderSelector){if(1!==a.length)return y('Invalid `expanderSelector` value: "'+e.expanderSelector+'" ('+a.length+" elements found, 1 required)"),-1;if(void 0!==a.attr("data-agjCalendar-bound-to")&&0<a.attr("data-agjCalendar-bound-to").length)return y('Already used `expanderSelector`: "'+e.expanderSelector+'" (`data-agjCalendar-bound-to` attribute found, missing required)'),-1;if(p.allowRange&&null!==e.endExpanderSelector){if(1!==m.length)return y('Invalid `endExpanderSelector` value: "'+e.endExpanderSelector+'" ('+m.length+" elements found, 1 required)"),-1;if(void 0!==m.attr("data-agjCalendar-bound-to")&&0<m.attr("data-agjCalendar-bound-to").length)return y('Already used `endExpanderSelector`: "'+e.endExpanderSelector+'" (`data-agjCalendar-bound-to` attribute found, missing required)'),-1}p.expanderSelector=e.expanderSelector,a.attr("data-agjCalendar-bound-to",p.position),$(a,"click",{isEnd:!1},g),p.allowRange&&(p.endExpanderSelector=e.endExpanderSelector,m.attr("data-agjCalendar-bound-to",p.position),$(m,"click",{isEnd:!0},g))}switch(p.inputType){case"text":var c=F(e.dateSelector),h=F(e.endDateSelector);if(1!==c.length)return y('Invalid `dateSelector` value: "'+e.dateSelector+'" ('+c.length+" elements found, 1 required)"),-1;if(void 0!==c.attr("data-agjCalendar-bound-to")&&0<c.attr("data-agjCalendar-bound-to").length)return y('Already used `dateSelector`: "'+e.dateSelector+'" (`data-agjCalendar-bound-to` attribute found, missing required)'),-1;if(p.allowRange){if(1!==h.length)return y('Invalid `endDateSelector` value: "'+e.endDateSelector+'" ('+h.length+" elements found, 1 required)"),-1;if(void 0!==h.attr("data-agjCalendar-bound-to")&&0<h.attr("data-agjCalendar-bound-to").length)return y('Already used `endDateSelector`: "'+e.endDateSelector+'" (`data-agjCalendar-bound-to` attribute found, missing required)'),-1}p.dateSelector=e.dateSelector;var f=function(e){if(void 0!==F(this).attr("data-agjCalendar-bound-to")&&0<F(this).attr("data-agjCalendar-bound-to").length)return setTimeout(function(){switch(p.calendarDisplay){case"full":case"modal":break;default:T||(F.agjCalendar.deactivate(),e.data.isEnd&&W(p))}},1),!0},D=c.val();c.attr("data-agjCalendar-bound-to",p.position),$(c,"blur",{isEnd:!1},f),$(c,"focus",{isEnd:!1},g),J(p,p.defaultDate),0<D.length&&c.val(D),p.allowRange&&(p.endDateSelector=e.endDateSelector,D=h.val(),h.attr("data-agjCalendar-bound-to",p.position),$(h,"blur",{isEnd:!0},f),$(h,"focus",{isEnd:!0},g),J(p,p.defaultEndDate,!0),0<D.length)&&h.val(D);break;case"dropdown":c=F(e.monthSelector),f=F(e.daySelector),h=F(e.endMonthSelector),D=F(e.endDaySelector);if(1!==c.length)return y('Invalid `monthSelector` value: "'+e.monthSelector+'" ('+c.length+" elements found, 1 required)"),-1;if(void 0!==c.attr("data-agjCalendar-bound-to")&&0<c.attr("data-agjCalendar-bound-to").length)return y('Already used `monthSelector`: "'+e.monthSelector+'" (`data-agjCalendar-bound-to` attribute found, missing required)'),-1;if(1!==f.length)return y('Invalid `daySelector` value: "'+e.daySelector+'" ('+f.length+" elements found, 1 required)"),-1;if(void 0!==f.attr("data-agjCalendar-bound-to")&&0<f.attr("data-agjCalendar-bound-to").length)return y('Already used `daySelector`: "'+e.daySelector+'" (`data-agjCalendar-bound-to` attribute found, missing required)'),-1;if(p.allowRange){if(1!==h.length)return y('Invalid `endMonthSelector` value: "'+e.endMonthSelector+'" ('+h.length+" elements found, 1 required)"),-1;if(void 0!==h.attr("data-agjCalendar-bound-to")&&0<h.attr("data-agjCalendar-bound-to").length)return y('Already used `endMonthSelector`: "'+e.endMonthSelector+'" (`data-agjCalendar-bound-to` attribute found, missing required)'),-1;if(1!==D.length)return y('Invalid `endDaySelector` value: "'+e.endDaySelector+'" ('+D.length+" elements found, 1 required)"),-1;if(void 0!==D.attr("data-agjCalendar-bound-to")&&0<D.attr("data-agjCalendar-bound-to").length)return y('Already used `endDaySelector`: "'+e.endDaySelector+'" (`data-agjCalendar-bound-to` attribute found, missing required)'),-1}f.attr("data-agjCalendar-bound-to",p.position),c.attr("data-agjCalendar-bound-to",p.position),p.monthSelector=e.monthSelector,p.daySelector=e.daySelector;var v=function(e){void 0!==F(this).attr("data-agjCalendar-bound-to")&&0<F(this).attr("data-agjCalendar-bound-to").length&&(Y(p,e.data.isEnd),e.data.isEnd||W(p))},C=c.val(),j=f.val();$(c,"change",{isEnd:!1},v),S(p),Y(p),null!==C&&0<C.length&&0<c.find("option[value="+C+"]").length&&(c.val(C),k(c,"change")),null!==j&&0<j.length&&0<f.find("option[value="+j+"]").length&&(f.val(j),k(f,"change")),p.allowRange&&((h=F(e.endMonthSelector)).attr("data-agjCalendar-bound-to",p.position),D.attr("data-agjCalendar-bound-to",p.position),p.endMonthSelector=e.endMonthSelector,p.endDaySelector=e.endDaySelector,C=h.val(),j=D.val(),$(f,"change",function(){void 0!==F(this).attr("data-agjCalendar-bound-to")&&0<F(this).attr("data-agjCalendar-bound-to").length&&(W(p),S(p,!0),Y(p,!0))}),h.attr("data-agjCalendar-bound-to",p.position),$(h,"change",{isEnd:!0},v),S(p,!0),Y(p,!0),null!==C&&0<C.length&&0<h.find("option[value="+C+"]").length&&(h.val(C),k(h,"change")),null!==j)&&0<j.length&&0<D.find("option[value="+j+"]").length&&(D.val(j),k(D,"change"))}return O.push(p),p.position},F.agjCalendar.addRegexTextPattern=function(e){t.push(e)},F.agjCalendar.dateToString=function(e,a,t){if("object"!=typeof e||!(e instanceof Date))return-1;if("string"!=typeof(a=x(a))||0===a.length||!new RegExp(/[aABcdDFgGhHijlLmMnNorsStuUvwWxXyYz]{1}/,"u").test(a))return-1;"object"!=typeof t&&(t=P(L.en));for(var n={a:function(e){e=e.getHours()<12?0:1;return t.meridiemIndicators.lowercase[e]},A:function(e){e=e.getHours()<12?0:1;return t.meridiemIndicators.uppercase[e]},c:function(e){return F.agjCalendar.dateToString(e,"Y-m-d",t)+"T"+F.agjCalendar.dateToString(e,"H:i:s",t)},d:function(e){return(e.getDate()<10?"0":"")+e.getDate()},D:function(e){return t.days.abbreviated[e.getDay()]},F:function(e){return t.months.full[e.getMonth()]},g:function(e){return 12<e.getHours()?e.getHours()-12:e.getHours()},G:function(e){return e.getHours()},h:function(e){return 12<e.getHours()?(e.getHours()-12<10?"0":"")+(e.getHours()-12).toString():(e.getHours()<10?"0":"")+e.getHours()},H:function(e){return(e.getHours()<10?"0":"")+e.getHours().toString()},i:function(e){return(e.getMinutes()<10?"0":"")+e.getMinutes().toString()},j:function(e){return e.getDate()},l:function(e){return t.days.full[e.getDay()]},L:function(e){return e=e.getFullYear(),(e=parseInt(e,10))%4==0&&e%100!=0||e%400==0?"1":"0"},m:function(e){return(e.getMonth()+1<10?"0":"")+(e.getMonth()+1)},M:function(e){return t.months.abbreviated[e.getMonth()]},n:function(e){return e.getMonth()+1},N:function(e){return 0===e.getDay()?7:e.getDay()},o:function(e){var a=new Date(e.getTime());return a.setDate(a.getDate()-(e.getDay()+6)%7+3),a.getFullYear()},r:function(e){return F.agjCalendar.dateToString(e,"D, d M Y H:i:s +0000",t)},s:function(e){return(e.getSeconds()<10?"0":"")+e.getSeconds().toString()},S:function(e){return t.ordinalSuffixes[e.getDate()]},t:function(e){return j(e.getMonth(),e.getFullYear())},u:function(e){return 1e3*e.getMilliseconds()},U:function(e){return Math.round(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getMilliseconds())/1e3)},v:function(e){return e.getMilliseconds()},w:function(e){return 7===e.getDay()?0:e.getDay()},W:function(e){return e=e,(e=new Date(e.getTime())).setHours(0,0,0,0),e.setDate(e.getDate()+3-(e.getDay()+6)%7),a=new Date(e.getFullYear(),0,4),1+Math.round(((e.getTime()-a.getTime())/864e5-3+(a.getDay()+6)%7)/7);var a},x:function(e){e=e.getFullYear();return 1e4<=e?"+"+e:e},X:function(e){return 1<=e.getFullYear()?"+"+e.getFullYear():e.getFullYear()},y:function(e){return e.getFullYear().toString().slice(-2)},Y:function(e){var a=e.getFullYear(),e=a<0;for(e&&(a*=-1),a=a.toString();a.length<4;)a="0"+a;return a=e?"-"+a:a},z:function(e){for(var a=0;a<=365;a++){var t=new Date(e.getFullYear(),0,1+a);if(t.getFullYear()===e.getFullYear()&&t.getMonth()===e.getMonth()&&t.getDate()===e.getDate())return a}return-1}},r="",o=0;a.length>o;){var l,d=!1;for(l in n)if(Object.prototype.hasOwnProperty.call(n,l)&&a.substring(o,o+l.length)===l){r+=n[l](e),o+=l.length,d=!0;break}d||(r+=a.substring(o,o+1),o++)}return r},F.agjCalendar.deactivate=function(){T=!1;var e=F("#agjCalendar");0<e.length&&(F("body").removeClass("agjCalendar-active"),e.attr("data-agjCalendar-active",-1),F(".agjCalendar-active-input").removeClass("agjCalendar-active-input")),_()},F.agjCalendar.disable=function(e){if(isNaN(e)||void 0===O[e])return y('Invalid position "'+e+'"'),!1;if(O[e].disabled)return y('Position "'+e+'" has already been disabled'),!1;(U(O[e])||O[e].allowRange&&U(O[e],!0))&&F.agjCalendar.deactivate();for(var a=0,t=["dateSelector","endDateSelector","monthSelector","daySelector","endMonthSelector","endDaySelector","expanderSelector","endExpanderSelector"];a<t.length;a++){var n=F(O[e][t[a]]);0<n.length&&n.attr("data-agjCalendar-bound-to","")}return O[e].disabled=!0},F.agjCalendar.disableEmojiSupport=function(){e()?a=!1:y("$.agjCalendar.disableEmojiSupport() was called but this browser does not support ECMAScript 2018")},F.agjCalendar.enableEmojiSupport=function(){e()?a=!0:y("$.agjCalendar.enableEmojiSupport() was called but this browser does not support ECMAScript 2018")},F.agjCalendar.getIncludedTranslations=function(e){return void 0!==L[e]?P(L[e]):-1},F.agjCalendar.isActive=function(){return F("body").hasClass("agjCalendar-active")},F.agjCalendar.stringToDate=function(e,a,t){if("string"==typeof e&&0!==e.length&&"string"==typeof a&&0!==a.length){"object"!=typeof t&&(t=P(L.en)),a=x(a);for(var n={a:"(am|pm)",A:"(AM|PM)",c:"-?([0-9]+)-([0-9]{2})-([0-9]{2})T([0-9]{2}):([0-9]{2}):([0-9]{2})",d:"([0-9]{2})",D:b(),F:b(),g:"[0-9]{1,2}",G:"[0-9]{1,2}",h:"[0-9]{2}",H:"[0-9]{2}",i:"[0-9]{2}",j:"([0-9]{1,2})",l:b(),L:"([0-1]{1})",m:"([0-9]{1,2})",M:b(),n:"([0-9]{2})",N:"([1-7]{1})",o:"-?([0-9]+)",r:b()+", ([0-9]{2}) "+b()+" -?([0-9]+) ([0-9]{2}):([0-9]{2}):([0-9]{2}) \\+0000",s:"[0-9]{2}",S:b(),t:"([0-9]{1,2})",u:"[0-9]+",U:"-?([0-9]+)",v:"[0-9]+",w:"([0-6]{1})",W:"([0-9]{1,2})",x:"\\+-?([0-9]+)",X:"\\+-?([0-9]+)",y:"([0-9]{2})",Y:"-?([0-9]+)",z:"([0-9]{1,3})"},r="^",o=0,l=0;a.length>l;){var d=!1;for(j in n)if(Object.prototype.hasOwnProperty.call(n,j)&&a.substring(l,l+j.length)===j){r=(r=(r=(r+="(?<pattern")+o+++"_")+j+">")+n[j]+")",l+=j.length,d=!0;break}d||(r+=a.substring(l,l+1),l++)}r+="$";var i=e.match(new RegExp(r,"u"));if(i){var s,u,g=null,m=null,c=null,h=null;for(s in i.groups)if(Object.prototype.hasOwnProperty.call(i.groups,s))switch(s.substring(s.lastIndexOf("_")+1)){case"c":var f=i.groups[s].substring(0,i.groups[s].lastIndexOf("-")).lastIndexOf("-"),m=parseInt(i.groups[s].substring(0,f),10),c=parseInt(i.groups[s].substring(f+1,f+3),10)-1,h=parseInt(i.groups[s].substring(f+4,f+6),10);break;case"r":f=i.groups[s].split(" ");m=f[f.length-3],h=parseInt(i.groups[s].substring(i.groups[s].indexOf(",")+2,i.groups[s].indexOf(",")+4),10);var p=(p=i.groups[s].substring(i.groups[s].indexOf(",")+5)).substring(0,p.indexOf(m.toString())-1);for(j in t.months)if(Object.prototype.hasOwnProperty.call(t.months,j))for(var D in t.months[j])Object.prototype.hasOwnProperty.call(t.months[j],D)&&t.months[j][D].toLowerCase()===p.toLowerCase()&&(c=D);break;case"U":var v=new Date(1e3*parseInt(i.groups[s],10)),C=1e3*parseInt(i.groups[s],10)-Date.UTC(v.getFullYear(),v.getMonth(),v.getDate(),v.getHours(),v.getMinutes(),v.getSeconds(),v.getMilliseconds());v.setTime(v.getTime()+C),m=v.getFullYear(),c=v.getMonth(),h=v.getDate();break;case"d":case"j":h=parseInt(i.groups[s],10);break;case"F":case"M":for(var j in t.months)if(Object.prototype.hasOwnProperty.call(t.months,j))for(var D in t.months[j])Object.prototype.hasOwnProperty.call(t.months[j],D)&&t.months[j][D].toLowerCase()===i.groups[s].toLowerCase()&&(c=D);break;case"m":case"n":c=parseInt(i.groups[s],10)-1;break;case"y":g=parseInt(i.groups[s],10);break;case"o":case"x":case"X":case"Y":m=parseInt(i.groups[s],10)}if((null!==g||null!==m)&&null!==c&&null!==h)return null===m&&(e=parseInt((new Date).getFullYear().toString().substring(2),10),u=(new Date).getFullYear()-e,m=g<=e+10?u+g:u-100+g),new Date(m,c,h)}}return-1},F.ctcCalendar=function(e){return F.agjCalendar(e)},F.fn.agjCalendar=function(e,a){if("object"!=typeof e&&(e={}),"function"!=typeof a&&(a=function(){}),"input"===this.prop("tagName").toLowerCase()){for(var t;t="agjCalendar-"+(n=1e5,r=999999,Math.round(Math.random()*(r-n)+n)),0<F("input."+t).length;);this.addClass(t),e.dateSelector="input."+t,a(F.agjCalendar(e))}else y('Invalid tag "'+this.prop("tagName").toLowerCase()+'" ("input" expected)'),a(-1);var n,r;return this}}(jQuery);