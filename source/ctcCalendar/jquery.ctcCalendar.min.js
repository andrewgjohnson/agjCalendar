(function(e){if(!e.browser){(function(q){var p,r=navigator.userAgent||"";q.uaMatch=function(u){u=u.toLowerCase();var s=/(chrome)[ \/]([\w.]+)/.exec(u)||/(webkit)[ \/]([\w.]+)/.exec(u)||/(opera)(?:.*version)?[ \/]([\w.]+)/.exec(u)||/(msie) ([\w.]+)/.exec(u)||u.indexOf("compatible")<0&&/(mozilla)(?:.*? rv:([\w.]+))?/.exec(u)||[];return{browser:s[1]||"",version:s[2]||"0"}};p=q.uaMatch(r);q.browser={};if(p.browser){q.browser[p.browser]=true;q.browser.version=p.version}if(q.browser.webkit){q.browser.safari=true}})(jQuery)}var o=new Array();var k=-1,b=false;var m="";var h="";var i=function(q){var p=q.height();if(!isNaN(parseInt(q.css("borderTopWidth"),10))){p+=parseInt(q.css("borderTopWidth"),10)}if(!isNaN(parseInt(q.css("borderBottomWidth"),10))){p+=parseInt(q.css("borderBottomWidth"),10)}if(!isNaN(parseInt(q.css("padding-top"),10))){p+=parseInt(q.css("padding-top"),10)}if(!isNaN(parseInt(q.css("padding-bottom"),10))){p+=parseInt(q.css("padding-bottom"),10)}if(!isNaN(parseInt(q.css("margin-top"),10))){p+=parseInt(q.css("margin-top"),10)}if(!isNaN(parseInt(q.css("margin-bottom"),10))){p+=parseInt(q.css("margin-bottom"),10)}return p};var l=function(p){var q=p.width();if(!isNaN(parseInt(p.css("borderLeftWidth"),10))){q+=parseInt(p.css("borderLeftWidth"),10)}if(!isNaN(parseInt(p.css("borderRightWidth"),10))){q+=parseInt(p.css("borderRightWidth"),10)}if(!isNaN(parseInt(p.css("padding-left"),10))){q+=parseInt(p.css("padding-left"),10)}if(!isNaN(parseInt(p.css("padding-right"),10))){q+=parseInt(p.css("padding-right"),10)}if(!isNaN(parseInt(p.css("margin-left"),10))){q+=parseInt(p.css("margin-left"),10)}if(!isNaN(parseInt(p.css("margin-right"),10))){q+=parseInt(p.css("margin-right"),10)}return q};var g=function(p,r,q){if(r===undefined){r=true}if(q===undefined){q="en"}if(q=="en"){if(p==1){return r?"January":"Jan"}else{if(p==2){return r?"February":"Feb"}else{if(p==3){return r?"March":"Mar"}else{if(p==4){return r?"April":"Apr"}else{if(p==5){return"May"}else{if(p==6){return r?"June":"Jun"}else{if(p==7){return r?"July":"Jul"}else{if(p==8){return r?"August":"Aug"}else{if(p==9){return r?"September":"Sep"}else{if(p==10){return r?"October":"Oct"}else{if(p==11){return r?"November":"Nov"}else{if(p==12){return r?"December":"Dec"}}}}}}}}}}}}}return""};var n=function(p,q){if(q===undefined){q="en"}if(q=="en"){if(p=="Jan"||p=="January"){return 1}else{if(p=="Feb"||p=="February"){return 2}else{if(p=="Mar"||p=="March"){return 3}else{if(p=="Apr"||p=="April"){return 4}else{if(p=="May"){return 5}else{if(p=="Jun"||p=="June"){return 6}else{if(p=="Jul"||p=="July"){return 7}else{if(p=="Aug"||p=="August"){return 8}else{if(p=="Sep"||p=="September"){return 9}else{if(p=="Oct"||p=="October"){return 10}else{if(p=="Nov"||p=="November"){return 11}else{if(p=="Dec"||p=="December"){return 12}}}}}}}}}}}}}return""};var c=function(p,r,q){if(r===undefined){r=true}if(q===undefined){q="en"}if(q=="en"){if(p==1){return r?"Sunday":"Sun"}else{if(p==2){return r?"Monday":"Mon"}else{if(p==3){return r?"Tuesday":"Tue"}else{if(p==4){return r?"Wednesday":"Wed"}else{if(p==5){return r?"Thursday":"Thu"}else{if(p==6){return r?"Friday":"Fri"}else{if(p==7){return r?"Saturday":"Sat"}}}}}}}}return""};var d=function(p){if(p===undefined){p="en"}if(p=="en"){return""}return""};var a=function(p){if(p===undefined){p="en"}if(p=="en"){return""}return""};var j=function(p,q){if(q==1||q==3||q==5||q==7||q==8||q==10||q==12){return 31}else{if(q==4||q==6||q==9||q==11){return 30}else{if(q==2){return(p%4==0&&p%100!=0)||p%400==0?29:28}}}return 0};var f=function(p){if(!isNaN(p)){p=parseInt(p,10)}switch(p){case 0:return"Zero";case 1:return"One";case 2:return"Two";case 3:return"Three";case 4:return"Four";case 5:return"Five";case 6:return"Six";case 7:return"Seven";case 8:return"Eight";case 9:return"Nine";case 10:return"Ten"}return""};e(document).resize(function(){e.ctcCalendar.set_position()}).click(function(q){if(e("#ctc-calendar").length>0&&k>=0){if(o[k]["inputType"]=="text"){var p=o[k][!b?"dateSelector":"endDateSelector"];if(!(e(q.target).parents("#ctc-calendar").length>0||e(q.target).attr("id")=="ctc-calendar")&&!(e(q.target).parents(p).length>0||e(q.target).attr("id")==p.substring(1))){e.ctcCalendar.hide()}}else{if(o[k]["inputType"]=="dropdown"){if(!(e(q.target).parents("#ctc-calendar").length>0||e(q.target).attr("id")=="ctc-calendar")){e.ctcCalendar.hide()}}}}return true}).keyup(function(p){if(p.keyCode==27&&k>=0&&(o[k]["calendarDisplay"]=="modal"||o[k]["calendarDisplay"]=="full")&&e("#ctc-calendar").length>0){e("*:focus").blur();e.ctcCalendar.hide();return false}return true});e(window).scroll(function(){if(k>=0){e.ctcCalendar.set_position()}});e(window).resize(function(){if(k>=0){e.ctcCalendar.set_position()}});e.ctcCalendar=function(r){var I;I=new Array();I.calendarCount=1;if(r.calendarCount){if(!isNaN(r.calendarCount)){if(parseInt(r.calendarCount,10)>=1&&parseInt(r.calendarCount,10)<=3){I.calendarCount=parseInt(r.calendarCount,10)}}}I.overwriteMonthOptions=true;if(r.overwriteMonthOptions||r.overwriteMonthOptions===false){if(r.overwriteMonthOptions==false){I.overwriteMonthOptions=false}}I.overwriteDayOptions=true;if(r.overwriteDayOptions||r.overwriteDayOptions===false){if(r.overwriteDayOptions==false){I.overwriteDayOptions=false}}I.autoSetEndDate=false;if(r.autoSetEndDate){if(r.autoSetEndDate===true){I.autoSetEndDate=true}}I.allowBlankDates=false;if(r.allowBlankDates){if(r.allowBlankDates===true){I.allowBlankDates=true}}I.dateFormat=1;if(r.dateFormat){if(r.dateFormat==2||r.dateFormat==3){I.dateFormat=r.dateFormat}}I.minimumDate=new Date();if(r.minimumDate){if(/([0-9]{4})-([0-9]{2})-([0-9]{2})/.test(r.minimumDate)){var v,u,s,H;v=r.minimumDate.substring(0,4);u=r.minimumDate.substring(5,7);s=r.minimumDate.substring(8,10);H=new Date();H.setFullYear(v,parseInt(u,10)-1,s);I.minimumDate=H}}I.minimumDate.setHours(0,0,0,0);I.maximumDate=new Date();I.maximumDate.setFullYear(I.maximumDate.getFullYear()+1,I.maximumDate.getMonth(),I.maximumDate.getDate());if(r.maximumDate){if(/([0-9]{4})-([0-9]{2})-([0-9]{2})/.test(r.maximumDate)){var N,t,K,w;N=r.maximumDate.substring(0,4);t=r.maximumDate.substring(5,7);K=r.maximumDate.substring(8,10);w=new Date();w.setFullYear(N,parseInt(t,10)-1,K);if(w>=I.minimumDate){I.maximumDate=w}}}I.maximumDate.setHours(23,59,59,999);I.defaultDate=new Date();if(r.defaultDate){if(/([0-9]{4})-([0-9]{2})-([0-9]{2})/.test(r.defaultDate)){var O,q,L,x;O=r.defaultDate.substring(0,4);q=r.defaultDate.substring(5,7);L=r.defaultDate.substring(8,10);x=new Date();x.setFullYear(O,parseInt(q,10)-1,L);if(x>=I.minimumDate&&x<=I.maximumDate){I.defaultDate=x}}else{if(I.allowBlankDates&&r.defaultDate=="blank"){I.defaultDate=r.defaultDate}}}I.allowRange=false;if(r.allowRange){if(r.allowRange===true){I.allowRange=true}}if(r.allowRange){var E,z;z=new Date();z.setFullYear(I.minimumDate.getFullYear(),I.minimumDate.getMonth(),I.minimumDate.getDate());E=0;while(z<=I.maximumDate){E++;z.setFullYear(z.getFullYear(),z.getMonth(),z.getDate()+1)}I.minimumRange=E==0?0:1;if(r.minimumRange||r.minimumRange===0){if(!isNaN(r.minimumRange)){if(parseInt(r.minimumRange,10)<=E){I.minimumRange=r.minimumRange}}}I.maximumRange=E==0?0:E;if(r.maximumRange||r.maximumRange===0){if(!isNaN(r.maximumRange)){if(parseInt(r.maximumRange,10)<=E){I.maximumRange=r.maximumRange}}}I.defaultRange=E==0?0:1;if(r.defaultRange||r.defaultRange===0){if(!isNaN(r.defaultRange)){if(parseInt(r.defaultRange,10)>=I.minimumRange&&parseInt(r.defaultRange,10)<=I.maximumRange){I.defaultRange=r.defaultRange}}}}else{I.defaultRange=0;I.minimumRange=0;I.maximumRange=0}I.calendarDisplay="inline";if(r.calendarDisplay){if(r.calendarDisplay=="modal"||r.calendarDisplay=="full"){I.calendarDisplay=r.calendarDisplay}}I.inputType="text";if(r.inputType){if(r.inputType=="dropdown"){I.inputType=r.inputType}}if(I.inputType=="text"){var p,D,C,M;p=e(r.expanderSelector);D=e(r.dateSelector);if(r.allowRange){C=e(r.endExpanderSelector);M=e(r.endDateSelector)}if(p.length>0&&D.length==1&&(!r.allowRange||(C.length>0&&M.length==1))){I.expanderSelector=r.expanderSelector;I.dateSelector=r.dateSelector;if(r.allowRange){I.endExpanderSelector=r.endExpanderSelector;I.endDateSelector=r.endDateSelector}var y=o.length;o[y]=I;var P=k;k=y;e.ctcCalendar.set_new_date(I.defaultDate);k=P;display_calendar=function(){if(k!=y||b){k=y;b=false;e.ctcCalendar.show()}else{e.ctcCalendar.hide()}return false};p.click(display_calendar);D.focus(display_calendar).keydown(function(Q){if(Q.keyCode==9){if(r.allowRange){setTimeout(function(){if(e(":focus")[0]!=M[0]){e.ctcCalendar.hide()}},1)}}return true})}if(r.allowRange){P=k;var G;if(I.defaultDate=="blank"){G="blank"}else{G=new Date();G.setFullYear(I.defaultDate.getFullYear(),I.defaultDate.getMonth(),I.defaultDate.getDate()+I.defaultRange)}k=y;b=true;e.ctcCalendar.set_new_date(G,true);k=P;b=false;D.blur(function(){if(/([0-9]{2})\/([0-9]{2})\/([0-9]{4})$/.test(e(this).val())){e.ctcCalendar.check_end_date(y)}});M.keydown(function(Q){if(Q.keyCode==9){setTimeout(function(){if(e(":focus")[0]!=D[0]){e.ctcCalendar.hide()}},1)}return true});display_end_calendar=function(){if(k!=y||!b){k=y;b=true;e.ctcCalendar.show()}else{e.ctcCalendar.hide()}return false};C.click(display_end_calendar);M.focus(display_end_calendar)}}else{if(I.inputType=="dropdown"){var p,F,J,C,A,B;p=e(r.expanderSelector);F=e(r.monthSelector);J=e(r.daySelector);if(r.allowRange){C=e(r.endExpanderSelector);A=e(r.endMonthSelector);B=e(r.endDaySelector)}if(p.length>0&&F.length==1&&J.length==1&&(!r.allowRange||(C.length>0&&A.length==1&&B.length==1))){I.monthSelector=r.monthSelector;I.daySelector=r.daySelector;I.expanderSelector=r.expanderSelector;if(r.allowRange){I.endMonthSelector=r.endMonthSelector;I.endDaySelector=r.endDaySelector;I.endExpanderSelector=r.endExpanderSelector}var y=o.length;o[y]=I;e.ctcCalendar.update_month_selectors(y);e.ctcCalendar.update_day_selectors(y);var P=k;k=y;e.ctcCalendar.set_new_date(I.defaultDate);k=P;p.click(function(){if(k!=y||b){k=y;b=false;e.ctcCalendar.show()}else{e.ctcCalendar.hide()}return false});F.change(function(){e.ctcCalendar.update_day_selectors(y);if(r.allowRange){var Q,S,R;Q=new Date();Q.setFullYear(F.val().substring(0,4),parseInt(F.val().substring(5,7),10)-1,J.val());Q.setHours(0,0,0,0);S=new Date();S.setFullYear(A.val().substring(0,4),parseInt(A.val().substring(5,7),10)-1,B.val());S.setHours(0,0,0,0);e.ctcCalendar.update_month_selectors(y,true);e.ctcCalendar.update_day_selectors(y,true);if(Q>S){k=y;R=new Date();R.setFullYear(Q.getFullYear(),Q.getMonth(),Q.getDate()+I.defaultRange);e.ctcCalendar.set_new_date(R,true);k=-1}}});if(r.allowRange){e.ctcCalendar.update_month_selectors(y,true);e.ctcCalendar.update_day_selectors(y,true);P=k;var G;if(I.defaultDate=="blank"){G="blank"}else{G=new Date();G.setFullYear(I.defaultDate.getFullYear(),I.defaultDate.getMonth(),I.defaultDate.getDate()+I.defaultRange)}k=y;b=true;e.ctcCalendar.set_new_date(G,true);k=P;b=false;J.change(function(){e.ctcCalendar.check_end_date(y);e.ctcCalendar.update_month_selectors(y,true);e.ctcCalendar.update_day_selectors(y,true)});C.click(function(){if(k!=y||!b){k=y;b=true;e.ctcCalendar.show()}else{e.ctcCalendar.hide()}return false});A.change(function(){e.ctcCalendar.update_day_selectors(y,true)})}}}}};e.ctcCalendar.show=function(){var w=false;if(o[k]["inputType"]=="text"){var q,u;q=e(o[k][!b?"dateSelector":"endDateSelector"]);if(b){u=e(o[k]["dateSelector"])}w=q.length==1&&(!b||u.length==1)}else{if(o[k]["inputType"]=="dropdown"){var s,v,r,p;s=e(o[k][!b?"monthSelector":"endMonthSelector"]);v=e(o[k][!b?"daySelector":"endDaySelector"]);if(b){r=e(o[k]["monthSelector"]);p=e(o[k]["daySelector"])}w=s.length==1&&v.length==1&&(!b||(r.length==1&&p.length==1))}}if(w){var t;t=e("#ctc-calendar,#ctc-calendar-iframe");if(t.length==0){e.ctcCalendar.add_to_dom();t=e("#ctc-calendar,#ctc-calendar-iframe")}show_calendar=function(){if(o[k]["calendarDisplay"]=="modal"||o[k]["calendarDisplay"]=="full"){window.scrollTo(0,1);window.scrollTo(0,0);m=e("body").css("overflow");h=e("body").css("marginRight");if(String(h).indexOf("px")>=0){h=h.substring(0,h.length-2)}h=parseInt(h,10);e("body").css({overflow:"hidden",marginRight:h+17});e("#ctc-calendar-modal-background").css({display:"block"})}e.ctcCalendar.set_position();e.ctcCalendar.update_dropdown();var C=new Date();if(o[k]["inputType"]=="text"){if(o[k]["dateFormat"]==1){if(/([0-9]{2})\/([0-9]{2})\/([0-9]{4})$/.test(q.val())){C.setFullYear(q.val().substring(6,10),parseInt(q.val().substring(0,2),10)-1,parseInt(q.val().substring(3,5),10))}else{if(b&&/([0-9]{2})\/([0-9]{2})\/([0-9]{4})$/.test(u.val())){C.setFullYear(u.val().substring(6,10),parseInt(u.val().substring(0,2),10)-1,parseInt(u.val().substring(3,5),10)+o[k]["minimumRange"])}else{if(!b){C.setFullYear(o[k]["minimumDate"].getFullYear(),o[k]["minimumDate"].getMonth(),o[k]["minimumDate"].getDate())}else{C.setFullYear(o[k]["minimumDate"].getFullYear(),o[k]["minimumDate"].getMonth(),o[k]["minimumDate"].getDate()+o[k]["minimumRange"])}}}if(b&&/([0-9]{2})\/([0-9]{2})\/([0-9]{4})$/.test(u.val())){var E=new Date();E.setFullYear(u.val().substring(6,10),parseInt(u.val().substring(0,2),10)-1,parseInt(u.val().substring(3,5),10));if(Math.ceil(Math.abs(C.getTime()-E.getTime())/(1000*60*60*24))>o[k]["maximumRange"]){C=new Date(E.getTime()+(1000*60*60*24*o[k]["maximumRange"]))}}}else{if(o[k]["dateFormat"]==2){if(/([A-Za-z]{3}) ([0-9]{1,2}), ([0-9]{4})$/.test(q.val())){var D,B,A;D=q.val().substring(q.val().length-4,q.val().length);B=n(q.val().substring(0,3));A=q.val().substring(q.val().indexOf(" ")+1,q.val().indexOf(","));C.setFullYear(D,B-1,A)}else{if(b&&/([A-Za-z]{3}) ([0-9]{1,2}), ([0-9]{4})$/.test(u.val())){var z,y,x;z=u.val().substring(u.val().length-4,u.val().length);y=n(u.val().substring(0,3));x=u.val().substring(u.val().indexOf(" ")+1,u.val().indexOf(","));C.setFullYear(z,y-1,parseInt(x,10)+o[k]["minimumRange"])}else{if(!b){C.setFullYear(o[k]["minimumDate"].getFullYear(),o[k]["minimumDate"].getMonth(),o[k]["minimumDate"].getDate())}else{C.setFullYear(o[k]["minimumDate"].getFullYear(),o[k]["minimumDate"].getMonth(),o[k]["minimumDate"].getDate()+o[k]["minimumRange"])}}}}else{if(o[k]["dateFormat"]==3){if(/([0-9]{2})\/([0-9]{2})\/([0-9]{4})$/.test(q.val())){C.setFullYear(q.val().substring(6,10),parseInt(q.val().substring(3,5),10)-1,1)}else{if(b&&/([0-9]{2})\/([0-9]{2})\/([0-9]{4})$/.test(u.val())){C.setFullYear(u.val().substring(6,10),parseInt(u.val().substring(3,5),10)-1,parseInt(u.val().substring(0,2),10)+o[k]["minimumRange"])}else{if(!b){C.setFullYear(o[k]["minimumDate"].getFullYear(),o[k]["minimumDate"].getMonth(),o[k]["minimumDate"].getDate())}else{C.setFullYear(o[k]["minimumDate"].getFullYear(),o[k]["minimumDate"].getMonth(),o[k]["minimumDate"].getDate()+o[k]["minimumRange"])}}}}}}}else{if(o[k]["inputType"]=="dropdown"){if(/([0-9]{4})-([0-9]{2})/.test(s.val())){C.setFullYear(s.val().substring(0,4),parseInt(s.val().substring(5,7),10)-1,1)}else{if(b&&/([0-9]{4})-([0-9]{2})/.test(r.val())){C.setFullYear(r.val().substring(0,4),parseInt(r.val().substring(5,7),10)-1,parseInt(p.val(),10)+o[k]["minimumRange"])}else{if(!b){C.setFullYear(o[k]["minimumDate"].getFullYear(),o[k]["minimumDate"].getMonth(),o[k]["minimumDate"].getDate())}else{C.setFullYear(o[k]["minimumDate"].getFullYear(),o[k]["minimumDate"].getMonth(),o[k]["minimumDate"].getDate()+o[k]["minimumRange"])}}}}}C.setHours(0,0,0,0);e.ctcCalendar.update_calendars(C);if(o[k]["calendarCount"]==1){e("#ctc-calendar,#ctc-calendar-iframe").addClass("ctc-calendar-single").removeClass("ctc-calendar-double").removeClass("ctc-calendar-triple");e("#ctc-calendar-first").show();e("#ctc-calendar-second,#ctc-calendar-third").hide()}else{if(o[k]["calendarCount"]==2){e("#ctc-calendar,#ctc-calendar-iframe").removeClass("ctc-calendar-single").addClass("ctc-calendar-double").removeClass("ctc-calendar-triple");e("#ctc-calendar-first,#ctc-calendar-second").show();e("#ctc-calendar-third").hide()}else{if(o[k]["calendarCount"]==3){e("#ctc-calendar,#ctc-calendar-iframe").removeClass("ctc-calendar-single").removeClass("ctc-calendar-double").addClass("ctc-calendar-triple");e("#ctc-calendar-first,#ctc-calendar-second,#ctc-calendar-third").show()}}}t.show();e.ctcCalendar.set_position()};if(t.is(":visible")){t.hide();show_calendar()}else{show_calendar()}}if(o[k]["calendarDisplay"]=="full"){setTimeout(function(){e(document).resize();e(window).resize();e(window).scroll()},100)}};e.ctcCalendar.set_position=function(){if(k>-1){if(o[k]["calendarDisplay"]=="inline"){if(o[k]["inputType"]=="text"){var w,A,z;w=e("#ctc-calendar,#ctc-calendar-iframe");A=e(o[k][!b?"dateSelector":"endDateSelector"]);z=e(o[k][!b?"expanderSelector":"endExpanderSelector"]);if((w.length==1||w.length==2)&&z.length>0&&A.length==1){var r,v,s,t;r=z.offset().top+i(z);if(A.attr("type")=="hidden"){s=A.parent().offset().top+i(A.parent())}else{s=A.offset().top+i(A)}t=Math.max(r,s)+1;var B,C,x,p;B=z.offset().left;if(A.attr("type")=="hidden"){x=A.parent().offset().left}else{x=A.offset().left}p=Math.min(B,x);w.css({left:p,top:t})}}else{if(o[k]["inputType"]=="dropdown"){var w,u,q,z;w=e("#ctc-calendar,#ctc-calendar-iframe");u=e(o[k][!b?"monthSelector":"endMonthSelector"]);q=e(o[k][!b?"daySelector":"endDaySelector"]);z=e(o[k][!b?"expanderSelector":"endExpanderSelector"]);if((w.length==1||w.length==2)&&z.length>0&&u.length==1&&q.length==1){var r,v,D,t;r=z.offset().top+i(z);v=u.offset().top+i(u);D=q.offset().top+i(q);t=Math.max(r,v,D)+1;var B,C,y,p;B=z.offset().left;C=u.offset().left;y=q.offset().left;p=Math.min(B,C,y);w.css({left:p,top:t})}}}var w=e("#ctc-calendar,#ctc-calendar-iframe");w.removeClass("ctc-calendar-full").css({position:"absolute"});e("#ctc-calendar-modal-background").addClass("ctc-calendar-modal-background-full")}else{if(o[k]["calendarDisplay"]=="modal"){var w=e("#ctc-calendar,#ctc-calendar-iframe");w.removeClass("ctc-calendar-full").css({left:(e(window).width()/2)-(l(w)/2),position:"fixed",top:(e(window).height()/2)-(i(w)/2)});e("#ctc-calendar-modal-background").addClass("ctc-calendar-modal-background-full")}else{if(o[k]["calendarDisplay"]=="full"){var w=e("#ctc-calendar,#ctc-calendar-iframe");w.addClass("ctc-calendar-full").css({left:0,position:"fixed",top:0});e("#ctc-calendar-modal-background").addClass("ctc-calendar-modal-background-full")}}}}};e.ctcCalendar.hide=function(){var p;p=e("#ctc-calendar,#ctc-calendar-iframe");if(o[k]["calendarDisplay"]=="modal"||o[k]["calendarDisplay"]=="full"){e("body").css({overflow:m,marginRight:h});e("#ctc-calendar-modal-background").hide()}if(p.length==1||p.length==2){p.hide();k=-1}};e.ctcCalendar.update_month_selectors=function(A,w){if(w===undefined){w=false}if(o[A]["overwriteMonthOptions"]){var v,s,q,t;v=e(o[A][!w?"monthSelector":"endMonthSelector"]);s=e(o[A][!w?"daySelector":"endDaySelector"]);if(o[A]["allowRange"]&&w){q=e(o[A]["monthSelector"]);t=e(o[A]["daySelector"])}if(v.length==1&&s.length==1&&(!o[A]["allowRange"]||!w||(q.length==1&&t.length==1))){if(/([0-9]{4})-([0-9]{2})/.test(v.val())&&s.val().length>0){var x=new Date();x.setFullYear(v.val().substring(0,4),parseInt(v.val().substring(5,7),10)-1,1);if(j(x.getFullYear(),x.getMonth()+1)<parseInt(s.val(),10)){x.setFullYear(v.val().substring(0,4),parseInt(v.val().substring(5,7),10)-1,j(x.getFullYear(),x.getMonth()+1))}else{x.setFullYear(v.val().substring(0,4),parseInt(v.val().substring(5,7),10)-1,parseInt(s.val(),10))}}v.html("");if(o[A]["allowBlankDates"]){v.append('<option value="">'+d()+"</option>")}var z,r,p;z=new Date();z.setFullYear(o[A]["minimumDate"].getFullYear(),o[A]["minimumDate"].getMonth(),o[A]["minimumDate"].getDate());if(w){if(q.length==1&&t.length==1&&q.val().length>0&&t.val().length>0){z.setFullYear(q.val().substring(0,4),parseInt(q.val().substring(5,7),10)-1,parseInt(t.val(),10)+o[A]["minimumRange"])}}z.setHours(0,0,0,0);r=new Date();r.setFullYear(o[A]["maximumDate"].getFullYear(),o[A]["maximumDate"].getMonth(),o[A]["maximumDate"].getDate());if(o[A]["allowRange"]){var u;if(w){if(/([0-9]{4})-([0-9]{2})/.test(q.val())&&t.val().length>0){u=new Date();u.setFullYear(q.val().substring(0,4),parseInt(q.val().substring(5,7),10)-1,1);if(j(u.getFullYear(),u.getMonth()+1)<parseInt(s.val(),10)){u.setFullYear(q.val().substring(0,4),parseInt(q.val().substring(5,7),10)-1,j(u.getFullYear(),u.getMonth()+1))}else{u.setFullYear(q.val().substring(0,4),parseInt(q.val().substring(5,7),10)-1,parseInt(t.val(),10))}}}if(!w){r.setFullYear(r.getFullYear(),r.getMonth(),r.getDate()-o[A]["minimumRange"])}else{if(typeof u!="undefined"){r.setFullYear(u.getFullYear(),u.getMonth(),u.getDate()+o[A]["maximumRange"])}}}r.setHours(23,59,59,999);p=z;while(p<r){var y="";if(typeof x!="undefined"){if(x.getFullYear()==p.getFullYear()&&x.getMonth()==p.getMonth()){y=' selected="selected"'}}v.append('<option value="'+p.getFullYear()+"-"+(p.getMonth()+1<10?"0"+(p.getMonth()+1):p.getMonth()+1)+'"'+y+">"+g(p.getMonth()+1)+" "+p.getFullYear()+"</option>");p.setFullYear(p.getFullYear(),p.getMonth()+1,1)}}}};e.ctcCalendar.update_day_selectors=function(B,x){if(x===undefined){x=false}if(o[B]["overwriteDayOptions"]){var w,r,p,u;w=e(o[B][!x?"monthSelector":"endMonthSelector"]);r=e(o[B][!x?"daySelector":"endDaySelector"]);if(o[B]["allowRange"]&&x){p=e(o[B]["monthSelector"]);u=e(o[B]["daySelector"])}if(w.length==1&&r.length==1){if(/([0-9]{4})-([0-9]{2})/.test(w.val())){if(r.val().length>0){var y=new Date();y.setFullYear(w.val().substring(0,4),parseInt(w.val().substring(5,7),10)-1,1);if(j(y.getFullYear(),y.getMonth()+1)<parseInt(r.val(),10)){y.setFullYear(w.val().substring(0,4),parseInt(w.val().substring(5,7),10)-1,j(y.getFullYear(),y.getMonth()+1))}else{y.setFullYear(w.val().substring(0,4),parseInt(w.val().substring(5,7),10)-1,parseInt(r.val(),10))}}var s=j(w.val().substring(0,4),w.val().substring(5,7));if(s>0){r.html("");if(o[B]["allowBlankDates"]){r.append('<option value="">'+a()+"</option>")}var A,q;A=new Date();A.setFullYear(o[B]["minimumDate"].getFullYear(),o[B]["minimumDate"].getMonth(),o[B]["minimumDate"].getDate());if(x){var p,u;p=e(o[B]["monthSelector"]);u=e(o[B]["daySelector"]);if(p.length==1&&u.length==1&&p.val().length>0&&u.val().length>0){A.setFullYear(p.val().substring(0,4),parseInt(p.val().substring(5,7),10)-1,parseInt(u.val(),10)+o[B]["minimumRange"])}else{A.setFullYear(A.getFullYear(),A.getMonth(),A.getDate()+o[B]["minimumRange"])}}A.setHours(0,0,0,0);q=new Date();q.setFullYear(o[B]["maximumDate"].getFullYear(),o[B]["maximumDate"].getMonth(),o[B]["maximumDate"].getDate());if(o[B]["allowRange"]){var v;if(x){if(/([0-9]{4})-([0-9]{2})/.test(p.val())&&u.val().length>0){v=new Date();v.setFullYear(p.val().substring(0,4),parseInt(p.val().substring(5,7),10)-1,1);if(j(v.getFullYear(),v.getMonth()+1)<parseInt(r.val(),10)){v.setFullYear(p.val().substring(0,4),parseInt(p.val().substring(5,7),10)-1,j(v.getFullYear(),v.getMonth()+1))}else{v.setFullYear(p.val().substring(0,4),parseInt(p.val().substring(5,7),10)-1,parseInt(u.val(),10))}}}if(!x){q.setFullYear(q.getFullYear(),q.getMonth(),q.getDate()-o[B]["minimumRange"])}else{if(typeof v!="undefined"){q.setFullYear(v.getFullYear(),v.getMonth(),v.getDate()+o[B]["maximumRange"])}}}q.setHours(23,59,59,999);var t=new Date();t.setFullYear(w.val().substring(0,4),parseInt(w.val().substring(5,7),10)-1,1);if(t<A&&!o[B]["overwriteMonthOptions"]){t.setFullYear(A.getFullYear(),A.getMonth(),1)}for(day=1;day<=s;day++){t.setFullYear(t.getFullYear(),t.getMonth(),day);t.setHours(12,30,30,500);var z="";if(typeof y!="undefined"){if(y.getDate()==day){z=' selected="selected"'}}if(t>=A&&t<=q){r.append('<option value="'+(day<10?"0"+day:day)+'"'+z+">"+day+"</option>")}}}}else{r.html('<option value="">'+a()+"</option>")}}}};e.ctcCalendar.update_dropdown=function(){var r,w,s;r=e("#ctc-calendar-dropdown");w=new Date();w.setFullYear(o[k]["minimumDate"].getFullYear(),o[k]["minimumDate"].getMonth(),o[k]["minimumDate"].getDate());if(b){if(o[k]["inputType"]=="text"){var v;v=e(o[k]["dateSelector"]);if(v.length==1){if(o[k]["dateFormat"]==1&&/([0-9]{2})\/([0-9]{2})\/([0-9]{4})$/.test(v.val())){w.setFullYear(v.val().substring(6,10),parseInt(v.val().substring(0,2),10)-1,parseInt(v.val().substring(3,5),10)+o[k]["minimumRange"])}else{if(o[k]["dateFormat"]==2&&/([A-Za-z]{3}) ([0-9]{1,2}), ([0-9]{4})$/.test(v.val())){minimum_year=v.val().substring(v.val().length-4,v.val().length);minimum_month=n(v.val().substring(0,3));minimum_day=v.val().substring(v.val().indexOf(" ")+1,v.val().indexOf(","));w=new Date();w.setFullYear(minimum_year,minimum_month-1,minimum_day)}else{if(o[k]["dateFormat"]==3&&/([0-9]{2})\/([0-9]{2})\/([0-9]{4})$/.test(v.val())){w.setFullYear(v.val().substring(6,10),parseInt(v.val().substring(3,5),10)-1,parseInt(v.val().substring(0,2),10)+o[k]["minimumRange"])}else{w.setFullYear(w.getFullYear(),w.getMonth(),w.getDate()+o[k]["minimumRange"])}}}}}else{if(o[k]["inputType"]=="dropdown"){var u,q;u=e(o[k]["monthSelector"]);q=e(o[k]["daySelector"]);if(u.length==1&&q.length==1&&u.val().length>0&&q.val().length>0){w.setFullYear(u.val().substring(0,4),parseInt(u.val().substring(5,7),10)-1,parseInt(q.val(),10)+o[k]["minimumRange"])}else{w.setFullYear(w.getFullYear(),w.getMonth(),w.getDate()+o[k]["minimumRange"])}}}}w.setHours(0,0,0,0);s=new Date();s.setFullYear(o[k]["maximumDate"].getFullYear(),o[k]["maximumDate"].getMonth(),o[k]["maximumDate"].getDate());if(o[k]["allowRange"]){if(o[k]["inputType"]=="text"){var p;if(b){if(o[k]["dateFormat"]==1&&/([0-9]{2})\/([0-9]{2})\/([0-9]{4})$/.test(v.val())){p=new Date();p.setFullYear(v.val().substring(6,10),parseInt(v.val().substring(0,2),10)-1,parseInt(v.val().substring(3,5),10))}else{if(o[k]["dateFormat"]==2&&/([A-Za-z]{3}) ([0-9]{1,2}), ([0-9]{4})$/.test(v.val())){p=new Date();start_year=v.val().substring(v.val().length-4,v.val().length);start_month=n(v.val().substring(0,3));start_day=v.val().substring(v.val().indexOf(" ")+1,v.val().indexOf(","));p=new Date();p.setFullYear(start_year,start_month-1,start_day)}else{if(o[k]["dateFormat"]==3&&/([0-9]{2})\/([0-9]{2})\/([0-9]{4})$/.test(v.val())){p=new Date();p.setFullYear(v.val().substring(6,10),parseInt(v.val().substring(3,5),10)-1,parseInt(v.val().substring(0,2),10))}}}}if(!b){s.setFullYear(s.getFullYear(),s.getMonth(),s.getDate()-o[k]["minimumRange"])}else{if(typeof p!="undefined"){s.setFullYear(p.getFullYear(),p.getMonth(),p.getDate()+o[k]["maximumRange"])}}if(b&&s>o[k]["maximumDate"]){s=o[k]["maximumDate"]}}else{if(o[k]["inputType"]=="dropdown"){var p;if(b){if(/([0-9]{4})-([0-9]{2})/.test(u.val())&&q.val().length>0){p=new Date();p.setFullYear(u.val().substring(0,4),parseInt(u.val().substring(5,7),10)-1,q.val())}}if(!b){s.setFullYear(s.getFullYear(),s.getMonth(),s.getDate()-o[k]["minimumRange"])}else{if(typeof p!="undefined"){s.setFullYear(p.getFullYear(),p.getMonth(),p.getDate()+o[k]["maximumRange"])}}if(b&&s>o[k]["maximumDate"]){s=o[k]["maximumDate"]}}}}s.setHours(23,59,59,999);r.html("");var t=w;while(t<s){r.append('<option value="'+t.getFullYear()+"-"+(t.getMonth()+1<10?"0"+(t.getMonth()+1):t.getMonth()+1)+'">'+g(t.getMonth()+1,false)+" "+t.getFullYear()+"</option>");t.setFullYear(t.getFullYear(),t.getMonth()+1,1)}};e.ctcCalendar.update_calendars=function(A){var L,p;if(A.getDate()!=1){A.setFullYear(A.getFullYear(),A.getMonth(),1)}if(o[k]["inputType"]=="text"){var D,t;D=e(o[k][!b?"dateSelector":"endDateSelector"]);if(o[k]["allowRange"]){if(b){t=e(o[k]["dateSelector"])}else{t=e(o[k]["endDateSelector"])}}}else{if(o[k]["inputType"]=="dropdown"){var F,O,P,H;F=e(o[k][!b?"monthSelector":"endMonthSelector"]);O=e(o[k][!b?"daySelector":"endDaySelector"]);if(o[k]["allowRange"]&&b){P=e(o[k]["monthSelector"]);H=e(o[k]["daySelector"])}}}todays_date=new Date();if(o[k]["inputType"]=="text"){if(D.length==1){if(o[k]["dateFormat"]==1){if(parseInt(D.val().substring(3,5),10)<=j(parseInt(D.val().substring(6,10)),parseInt(D.val().substring(0,2),10))&&/([0-9]{2})\/([0-9]{2})\/([0-9]{4})$/.test(D.val())){L=new Date();L.setFullYear(D.val().substring(6,10),parseInt(D.val().substring(0,2),10)-1,parseInt(D.val().substring(3,5),10));L.setHours(0,0,0,0);if(o[k]["allowRange"]){if(parseInt(t.val().substring(3,5),10)<=j(parseInt(t.val().substring(6,10)),parseInt(t.val().substring(0,2),10))&&/([0-9]{2})\/([0-9]{2})\/([0-9]{4})$/.test(t.val())){p=new Date();p.setFullYear(t.val().substring(6,10),parseInt(t.val().substring(0,2),10)-1,parseInt(t.val().substring(3,5),10));p.setHours(0,0,0,0)}}}}else{if(o[k]["dateFormat"]==2){if(/([A-Za-z]{3}) ([0-9]{1,2}), ([0-9]{4})$/.test(D.val())){var y,K,u;y=D.val().substring(D.val().length-4,D.val().length);K=n(D.val().substring(0,3));u=D.val().substring(D.val().indexOf(" ")+1,D.val().indexOf(","));L=new Date();L.setFullYear(y,K-1,u);L.setHours(0,0,0,0);if(o[k]["allowRange"]){if(/([A-Za-z]{3}) ([0-9]{1,2}), ([0-9]{4})$/.test(t.val())){var J,z,Q;J=t.val().substring(t.val().length-4,t.val().length);z=n(t.val().substring(0,3));Q=t.val().substring(t.val().indexOf(" ")+1,t.val().indexOf(","));p=new Date();p.setFullYear(J,z-1,Q);p.setHours(0,0,0,0)}}}}else{if(o[k]["dateFormat"]==3){if(parseInt(D.val().substring(0,2),10)<=j(parseInt(D.val().substring(6,10)),parseInt(D.val().substring(3,5),10))&&/([0-9]{2})\/([0-9]{2})\/([0-9]{4})$/.test(D.val())){L=new Date();L.setFullYear(D.val().substring(6,10),parseInt(D.val().substring(3,5),10)-1,parseInt(D.val().substring(0,2),10));L.setHours(0,0,0,0);if(o[k]["allowRange"]){if(parseInt(t.val().substring(0,2),10)<=j(parseInt(t.val().substring(6,10)),parseInt(t.val().substring(3,5),10))&&/([0-9]{2})\/([0-9]{2})\/([0-9]{4})$/.test(t.val())){p=new Date();p.setFullYear(t.val().substring(6,10),parseInt(t.val().substring(3,5),10)-1,parseInt(t.val().substring(0,2),10));p.setHours(0,0,0,0)}}}}}}}}else{if(o[k]["inputType"]=="dropdown"){if(F.length==1&&O.length==1){if(parseInt(O.val(),10)<=j(F.val().substring(0,4),parseInt(F.val().substring(5,7),10))){L=new Date();L.setFullYear(F.val().substring(0,4),parseInt(F.val().substring(5,7),10)-1,parseInt(O.val(),10));L.setHours(0,0,0,0)}}}}var C=e("#ctc-calendar-dropdown");for(var G=1;G<=3;G++){var E;if(G==1){E="#ctc-calendar-first"}else{if(G==2){E="#ctc-calendar-second"}else{if(G==3){E="#ctc-calendar-third"}}}if(G==1){C.val(A.getFullYear()+"-"+(A.getMonth()+1<10?"0"+(A.getMonth()+1):A.getMonth()+1))}else{if(G==2||G==3){e(E+"-month-name").text(g(A.getMonth()+1)+" "+A.getFullYear())}}var x="",s=0;if(A.getDay()>0){x+='<div class="ctc-calendar-week ctc-calendar-week-one">';for(day=1;day<=A.getDay();day++){x+='<div class="ctc-calendar-blank ctc-calendar-'+c(++s%7).toLowerCase()+'" />'}}var I,w;I=new Date();I.setFullYear(o[k]["minimumDate"].getFullYear(),o[k]["minimumDate"].getMonth(),o[k]["minimumDate"].getDate());if(b){if(o[k]["inputType"]=="text"){var t;t=e(o[k]["dateSelector"]);if(o[k]["dateFormat"]==1){if(/([0-9]{2})\/([0-9]{2})\/([0-9]{4})/.test(t.val())){I.setFullYear(t.val().substring(6,10),parseInt(t.val().substring(0,2),10)-1,parseInt(t.val().substring(3,5),10)+o[k]["minimumRange"])}else{I.setFullYear(I.getFullYear(),I.getMonth(),I.getDate()+o[k]["minimumRange"])}}else{if(o[k]["dateFormat"]==2){if(/([A-Za-z]{3}) ([0-9]{1,2}), ([0-9]{4})$/.test(t.val())){var M,N,q;M=t.val().substring(t.val().length-4,t.val().length);N=n(t.val().substring(0,3));q=t.val().substring(t.val().indexOf(" ")+1,t.val().indexOf(","));I.setFullYear(M,N-1,parseInt(q)+o[k]["minimumRange"])}else{I.setFullYear(I.getFullYear(),I.getMonth(),I.getDate()+o[k]["minimumRange"])}}else{if(o[k]["dateFormat"]==3){if(/([0-9]{2})\/([0-9]{2})\/([0-9]{4})/.test(t.val())){I.setFullYear(t.val().substring(6,10),parseInt(t.val().substring(3,5),10)-1,parseInt(t.val().substring(0,2),10)+o[k]["minimumRange"])}else{I.setFullYear(I.getFullYear(),I.getMonth(),I.getDate()+o[k]["minimumRange"])}}}}}else{if(o[k]["inputType"]=="dropdown"){var P,H;P=e(o[k]["monthSelector"]);H=e(o[k]["daySelector"]);if(P.length==1&&H.length==1&&P.val().length>0&&H.val().length>0){I.setFullYear(P.val().substring(0,4),parseInt(P.val().substring(5,7),10)-1,parseInt(H.val(),10)+o[k]["minimumRange"])}else{I.setFullYear(I.getFullYear(),I.getMonth(),I.getDate()+o[k]["minimumRange"])}}}}I.setHours(0,0,0,0);w=new Date();w.setFullYear(o[k]["maximumDate"].getFullYear(),o[k]["maximumDate"].getMonth(),o[k]["maximumDate"].getDate());if(o[k]["allowRange"]){var r;if(b){if(o[k]["inputType"]=="text"){if(o[k]["dateFormat"]==1){if(/([0-9]{2})\/([0-9]{2})\/([0-9]{4})/.test(t.val())){r=new Date();r.setFullYear(t.val().substring(6,10),parseInt(t.val().substring(0,2),10)-1,1);if(j(r.getFullYear(),r.getMonth()+1)<parseInt(t.val().substring(3,5),10)){r.setFullYear(t.val().substring(6,10),parseInt(t.val().substring(0,2),10)-1,j(r.getFullYear(),r.getMonth()+1))}else{r.setFullYear(t.val().substring(6,10),parseInt(t.val().substring(0,2),10)-1,parseInt(t.val().substring(3,5),10))}}}else{if(o[k]["dateFormat"]==2){if(/([A-Za-z]{3}) ([0-9]{1,2}), ([0-9]{4})$/.test(t.val())){var M,N,q;M=t.val().substring(t.val().length-4,t.val().length);N=n(t.val().substring(0,3));q=t.val().substring(t.val().indexOf(" ")+1,t.val().indexOf(","));r=new Date();r.setFullYear(M,N-1,1);if(j(r.getFullYear(),r.getMonth()+1)<q){r.setFullYear(M,N-1,j(r.getFullYear(),r.getMonth()+1))}else{r.setFullYear(M,N-1,q)}}}else{if(o[k]["dateFormat"]==3){if(/([0-9]{2})\/([0-9]{2})\/([0-9]{4})/.test(t.val())){r=new Date();r.setFullYear(t.val().substring(6,10),parseInt(t.val().substring(3,5),10)-1,1);if(j(r.getFullYear(),r.getMonth()+1)<parseInt(t.val().substring(0,2),10)){r.setFullYear(t.val().substring(6,10),parseInt(t.val().substring(3,5),10)-1,j(r.getFullYear(),r.getMonth()+1))}else{r.setFullYear(t.val().substring(6,10),parseInt(t.val().substring(3,5),10)-1,parseInt(t.val().substring(0,2),10))}}}}}}else{if(o[k]["inputType"]=="dropdown"){if(/([0-9]{4})-([0-9]{2})/.test(P.val())&&H.val().length>0){r=new Date();r.setFullYear(P.val().substring(0,4),parseInt(P.val().substring(5,7),10)-1,1);if(j(r.getFullYear(),r.getMonth()+1)<parseInt(O.val(),10)){r.setFullYear(P.val().substring(0,4),parseInt(P.val().substring(5,7),10)-1,j(r.getFullYear(),r.getMonth()+1))}else{r.setFullYear(P.val().substring(0,4),parseInt(P.val().substring(5,7),10)-1,parseInt(H.val(),10))}}}}}if(!b){w.setFullYear(w.getFullYear(),w.getMonth(),w.getDate()-o[k]["minimumRange"])}else{if(typeof r!="undefined"){w.setFullYear(r.getFullYear(),r.getMonth(),r.getDate()+o[k]["maximumRange"])}}if(b&&w>o[k]["maximumDate"]){w=o[k]["maximumDate"]}}w.setHours(23,59,59,999);for(day=1;day<=42-A.getDay();day++){if(s%7==0){if(x.length>0){x+="</div>"}x+='<div class="ctc-calendar-week ctc-calendar-week-'+f(Math.round(s/7)+1).toLowerCase()+'">'}if(day<=j(A.getFullYear(),A.getMonth()+1)){var R,B;R=new Date();R.setFullYear(A.getFullYear(),A.getMonth(),day);B="";if(R>=I&&R<=w){B+=" ctc-calendar-selectable"}if(R.getFullYear()==todays_date.getFullYear()&&R.getMonth()==todays_date.getMonth()&&R.getDate()==todays_date.getDate()){B+=" ctc-calendar-today"}if(L){if(R.getFullYear()==L.getFullYear()&&R.getMonth()==L.getMonth()&&R.getDate()==L.getDate()){B+=" ctc-calendar-active"}}if(p){if(R.getFullYear()==p.getFullYear()&&R.getMonth()==p.getMonth()&&R.getDate()==p.getDate()){B+=" ctc-calendar-other-active"}}if(L&&p&&L!=p){if((L<p&&R>=L&&R<=p)||(L>p&&R<=L&&R>=p)){B+=" ctc-calendar-in-range"}}x+='<div class="ctc-calendar-'+c((s++%7)+1).toLowerCase()+B+'">';if(R>=I&&R<=w){x+='<a href="#" title="'+g(A.getMonth()+1)+" "+day+", "+A.getFullYear()+'" id="ctc-calendar-'+A.getFullYear()+"-"+(A.getMonth()+1<10?"0"+(A.getMonth()+1):A.getMonth()+1)+"-"+day+'">'}x+=day;if(R>=o[k]["minimumDate"]&&R<=w){x+="</a>"}x+="</div>"}else{x+='<div class="ctc-calendar-blank ctc-calendar-'+c((s++%7)+1).toLowerCase()+'" />'}}x+="</div>";e(E+" div.ctc-calendar-week").remove();e(E).append(x);if(e(E+" div.ctc-calendar-week-five div.ctc-calendar-blank").length==7){e(E).addClass("ctc-calendar-four-weeks").removeClass("ctc-calendar-five-weeks").removeClass("ctc-calendar-six-weeks")}else{if(e(E+" div.ctc-calendar-week-six div.ctc-calendar-blank").length==7){e(E).removeClass("ctc-calendar-four-weeks").addClass("ctc-calendar-five-weeks").removeClass("ctc-calendar-six-weeks")}else{e(E).removeClass("ctc-calendar-four-weeks").removeClass("ctc-calendar-five-weeks").addClass("ctc-calendar-six-weeks")}}A.setFullYear(A.getFullYear(),A.getMonth()+1,1)}e("#ctc-calendar div.ctc-calendar-week a").click(function(){var S=new Date();S.setFullYear(this.id.substring(13,17),parseInt(this.id.substring(18,20),10)-1,this.id.substring(21,23));e.ctcCalendar.set_new_date(S,b);if(!b&&o[k]["allowRange"]){e.ctcCalendar.check_end_date(k)}e.ctcCalendar.hide();return false});var v=new Date();v.setFullYear(C.val().substring(0,4),parseInt(C.val().substring(5,7),10)-2,1);if(C.find("option[value="+v.getFullYear()+"-"+(v.getMonth()+1<10?"0"+(v.getMonth()+1):v.getMonth()+1)+"]").length==0){e("#ctc-calendar a.ctc-calendar-previous-month").fadeTo(1,0.33)}else{e("#ctc-calendar a.ctc-calendar-previous-month").fadeTo(1,1)}v.setFullYear(C.val().substring(0,4),parseInt(C.val().substring(5,7),10),1);if(C.find("option[value="+v.getFullYear()+"-"+(v.getMonth()+1<10?"0"+(v.getMonth()+1):v.getMonth()+1)+"]").length==0){e("#ctc-calendar a.ctc-calendar-next-month").fadeTo(1,0.33)}else{e("#ctc-calendar a.ctc-calendar-next-month").fadeTo(1,1)}};e.ctcCalendar.set_new_date=function(u,r){if(r===undefined){r=false}if(o[k]["inputType"]=="text"){var p=e(o[k][!r?"dateSelector":"endDateSelector"]);if(u=="blank"){if(o[k]["dateFormat"]==1){p.val("mm/dd/yyyy").change()}else{if(o[k]["dateFormat"]==2){p.val("Select a Date").change()}else{if(o[k]["dateFormat"]==3){p.val("dd/mm/yyyy").change()}}}}else{if(o[k]["dateFormat"]==1){p.val((u.getMonth()+1<10?"0"+(u.getMonth()+1):u.getMonth()+1)+"/"+(u.getDate()<10?"0"+u.getDate():u.getDate())+"/"+u.getFullYear()).change()}else{if(o[k]["dateFormat"]==2){p.val(g(u.getMonth()+1,false)+" "+u.getDate()+", "+u.getFullYear()).change()}else{if(o[k]["dateFormat"]==3){p.val((u.getDate()<10?"0"+u.getDate():u.getDate())+"/"+(u.getMonth()+1<10?"0"+(u.getMonth()+1):u.getMonth()+1)+"/"+u.getFullYear()).change()}}}}}else{if(o[k]["inputType"]=="dropdown"){var t,v,q,s;t=e(o[k][!r?"monthSelector":"endMonthSelector"]);if(u=="blank"){q=""}else{q=u.getFullYear()+"-"+(u.getMonth()+1<10?"0"+(u.getMonth()+1):u.getMonth()+1)}v=e(o[k][!r?"daySelector":"endDaySelector"]);if(u=="blank"){s=""}else{s=u.getDate()<10?"0"+u.getDate():u.getDate()}if(t.find("option[value="+q+"]").length>0&&(u=="blank"||parseInt(s,10)<=j(u.getFullYear(),u.getMonth()+1))){t.val(q).change();e.ctcCalendar.update_day_selectors(k,r);v.val(s).change()}}}};e.ctcCalendar.check_end_date=function(B){if(o[B]["inputType"]=="text"){var G,F;G=e(o[B]["dateSelector"]);F=e(o[B]["endDateSelector"]);if(G.length==1&&F.length==1){if(o[B]["dateFormat"]==1){if(/([0-9]{2})\/([0-9]{2})\/([0-9]{4})/.test(G.val())){if(/([0-9]{2})\/([0-9]{2})\/([0-9]{4})/.test(F.val())){var s,r,z,t;s=new Date();s.setFullYear(G.val().substring(6,10),parseInt(G.val().substring(0,2),10)-1,parseInt(G.val().substring(3,5),10));s.setHours(0,0,0,0);r=new Date();r.setFullYear(F.val().substring(6,10),parseInt(F.val().substring(0,2),10)-1,parseInt(F.val().substring(3,5),10));r.setHours(0,0,0,0);z=new Date();z.setFullYear(s.getFullYear(),s.getMonth(),s.getDate()+o[B]["minimumRange"]);z.setHours(0,0,0,0);t=new Date();t.setFullYear(s.getFullYear(),s.getMonth(),s.getDate()+o[B]["maximumRange"]);t.setHours(0,0,0,0);if(r<z||r>t){if(r>t){r.setFullYear(t.getFullYear(),t.getMonth(),t.getDate())}else{r.setFullYear(s.getFullYear(),s.getMonth(),s.getDate()+o[B]["defaultRange"])}var I=k;k=B;e.ctcCalendar.set_new_date(r,true);k=I}}else{if(o[B]["autoSetEndDate"]){var q;q=new Date();q.setFullYear(G.val().substring(6,10),parseInt(G.val().substring(0,2),10)-1,parseInt(G.val().substring(3,5),10)+o[B]["defaultRange"]);var I=k;k=B;e.ctcCalendar.set_new_date(q,true);k=I}}}}else{if(o[B]["dateFormat"]==2){if(/([A-Za-z]{3}) ([0-9]{1,2}), ([0-9]{4})$/.test(G.val())){if(/([A-Za-z]{3}) ([0-9]{1,2}), ([0-9]{4})$/.test(F.val())){var D,p,H,A,x,w;D=G.val().substring(G.val().length-4,G.val().length);p=n(G.val().substring(0,3));H=G.val().substring(G.val().indexOf(" ")+1,G.val().indexOf(","));A=F.val().substring(F.val().length-4,F.val().length);x=n(F.val().substring(0,3));w=F.val().substring(F.val().indexOf(" ")+1,F.val().indexOf(","));var s,r,C;s=new Date();s.setFullYear(D,p-1,H);r=new Date();r.setFullYear(A,x-1,w);r.setHours(0,0,0,0);C=new Date();C.setFullYear(s.getFullYear(),s.getMonth(),s.getDate()+o[B]["minimumRange"]);C.setHours(0,0,0,0);if(C>r){C.setFullYear(s.getFullYear(),s.getMonth(),s.getDate()+o[B]["defaultRange"]);var I=k;k=B;e.ctcCalendar.set_new_date(C,true);k=I}}else{if(o[B]["autoSetEndDate"]){var D,p,H,A,x,w;D=G.val().substring(G.val().length-4,G.val().length);p=n(G.val().substring(0,3));H=G.val().substring(G.val().indexOf(" ")+1,G.val().indexOf(","));var q;q=new Date();q.setFullYear(D,p-1,parseInt(H,10)+o[B]["defaultRange"]);var I=k;k=B;e.ctcCalendar.set_new_date(q,true);k=I}}}}else{if(o[B]["dateFormat"]==3){if(/([0-9]{2})\/([0-9]{2})\/([0-9]{4})/.test(G.val())){if(/([0-9]{2})\/([0-9]{2})\/([0-9]{4})/.test(F.val())){var s,r,C;s=new Date();s.setFullYear(G.val().substring(6,10),parseInt(G.val().substring(3,5),10)-1,parseInt(G.val().substring(0,2),10));r=new Date();r.setFullYear(F.val().substring(6,10),parseInt(F.val().substring(3,5),10)-1,parseInt(F.val().substring(0,2),10));r.setHours(0,0,0,0);C=new Date();C.setFullYear(s.getFullYear(),s.getMonth(),s.getDate()+o[B]["minimumRange"]);C.setHours(0,0,0,0);if(C>r){C.setFullYear(s.getFullYear(),s.getMonth(),s.getDate()+o[B]["defaultRange"]);var I=k;k=B;e.ctcCalendar.set_new_date(C,true);k=I}}else{if(o[B]["autoSetEndDate"]){var q;q=new Date();q.setFullYear(G.val().substring(6,10),parseInt(G.val().substring(3,5),10)-1,parseInt(G.val().substring(0,2),10)+o[B]["defaultRange"]);var I=k;k=B;e.ctcCalendar.set_new_date(q,true);k=I}}}}}}}}else{if(o[B]["inputType"]=="dropdown"){var E,y,u,v;E=e(o[B]["monthSelector"]);y=e(o[B]["daySelector"]);u=e(o[B]["endMonthSelector"]);v=e(o[B]["endDaySelector"]);if(E.length==1&&y.length==1&&u.length==1&&v.length==1){if(/([0-9]{4})-([0-9]{2})/.test(E.val())&&y.val().length>0){var s,r,C;s=new Date();s.setFullYear(E.val().substring(0,4),parseInt(E.val().substring(5,7),10)-1,parseInt(y.val(),10));r=new Date();r.setFullYear(u.val().substring(0,4),parseInt(u.val().substring(5,7),10)-1,parseInt(v.val(),10));r.setHours(0,0,0,0);C=new Date();C.setFullYear(s.getFullYear(),s.getMonth(),s.getDate()+o[B]["minimumRange"]);C.setHours(0,0,0,0);if(C>r){C.setFullYear(s.getFullYear(),s.getMonth(),s.getDate()+o[B]["defaultRange"]);var I=k;k=B;e.ctcCalendar.set_new_date(C,true);k=I}}}}}};e.ctcCalendar.add_to_dom=function(){var p="";if(e.browser.msie&&parseInt(e.browser.version)===6){p+='<iframe id="ctc-calendar-iframe" frameborder="0" />'}p+='<div id="ctc-calendar-modal-background" /><div id="ctc-calendar"><div id="ctc-calendar-header"><div id="ctc-calendar-header-inner"><a href="#" title="Hide Calendar" id="ctc-calendar-hide">Hide Calendar</a><span>Powered by</span> <a href="https://github.com/ctcCalendar/ctcCalendar" target="_blank" title="ctcCalendar" id="ctc-calendar-powered-by">ctcCalendar</a></div></div><div id="ctc-calendar-body"><div id="ctc-calendar-first"><div class="ctc-calendar-month"><div class="ctc-calendar-month-inner-1"><div class="ctc-calendar-month-inner-2"><select id="ctc-calendar-dropdown" /><a href="#" title="Next Month" class="ctc-calendar-next-month"><span class="ctc-calendar-next-month-inner">Next Month</span></a><a href="#" title="Previous Month" class="ctc-calendar-previous-month"><span class="ctc-calendar-previous-month-inner">Previous Month</span></a></div></div></div><div class="ctc-calendar-days"><div class="ctc-calendar-sunday">'+c(1,false).substring(0,1)+'</div><div class="ctc-calendar-monday">'+c(2,false).substring(0,1)+'</div><div class="ctc-calendar-tuesday">'+c(3,false).substring(0,1)+'</div><div class="ctc-calendar-wednesday">'+c(4,false).substring(0,1)+'</div><div class="ctc-calendar-thursday">'+c(5,false).substring(0,1)+'</div><div class="ctc-calendar-friday">'+c(6,false).substring(0,1)+'</div><div class="ctc-calendar-saturday">'+c(7,false).substring(0,1)+'</div></div></div><div id="ctc-calendar-second"><div class="ctc-calendar-month"><div class="ctc-calendar-month-inner" colspan="5"><strong id="ctc-calendar-second-month-name" /><a href="#" title="Next Month" class="ctc-calendar-next-month"><span class="ctc-calendar-next-month-inner">Next Month</span></a><a href="#" title="Previous Month" class="ctc-calendar-previous-month"><span class="ctc-calendar-previous-month-inner">Previous Month</span></a></div></div><div class="ctc-calendar-days"><div class="ctc-calendar-sunday">'+c(1,false).substring(0,1)+'</div><div class="ctc-calendar-monday">'+c(2,false).substring(0,1)+'</div><div class="ctc-calendar-tuesday">'+c(3,false).substring(0,1)+'</div><div class="ctc-calendar-wednesday">'+c(4,false).substring(0,1)+'</div><div class="ctc-calendar-thursday">'+c(5,false).substring(0,1)+'</div><div class="ctc-calendar-friday">'+c(6,false).substring(0,1)+'</div><div class="ctc-calendar-saturday">'+c(7,false).substring(0,1)+'</div></div></div><div id="ctc-calendar-third"><div class="ctc-calendar-month"><div class="ctc-calendar-month-inner" colspan="5"><strong id="ctc-calendar-third-month-name" /><a href="#" title="Next Month" class="ctc-calendar-next-month"><span class="ctc-calendar-next-month-inner">Next Month</span></a><a href="#" title="Previous Month" class="ctc-calendar-previous-month"><span class="ctc-calendar-previous-month-inner">Previous Month</span></a></div></div><div class="ctc-calendar-days"><div class="ctc-calendar-sunday">'+c(1,false).substring(0,1)+'</div><div class="ctc-calendar-monday">'+c(2,false).substring(0,1)+'</div><div class="ctc-calendar-tuesday">'+c(3,false).substring(0,1)+'</div><div class="ctc-calendar-wednesday">'+c(4,false).substring(0,1)+'</div><div class="ctc-calendar-thursday">'+c(5,false).substring(0,1)+'</div><div class="ctc-calendar-friday">'+c(6,false).substring(0,1)+'</div><div class="ctc-calendar-saturday">'+c(7,false).substring(0,1)+"</div></div></div></div></div>";e("body").prepend(p);e("#ctc-calendar-hide").click(function(){e.ctcCalendar.hide();return false});e("#ctc-calendar-dropdown").change(function(){if(/([0-9]{4})-([0-9]{2})/.test(e(this).val())){var q=new Date();q.setFullYear(e(this).val().substring(0,4),parseInt(e(this).val().substring(5,7),10)-1,1);e.ctcCalendar.update_calendars(q)}});e("#ctc-calendar a.ctc-calendar-previous-month,#ctc-calendar a.ctc-calendar-next-month").click(function(){if(/([0-9]{4})-([0-9]{2})/.test(e("#ctc-calendar-dropdown").val())){var q=new Date();if(e(this).hasClass("ctc-calendar-previous-month")){q.setFullYear(e("#ctc-calendar-dropdown").val().substring(0,4),parseInt(e("#ctc-calendar-dropdown").val().substring(5,7),10)-1-1,1)}else{if(e(this).hasClass("ctc-calendar-next-month")){q.setFullYear(e("#ctc-calendar-dropdown").val().substring(0,4),parseInt(e("#ctc-calendar-dropdown").val().substring(5,7),10)-1+1,1)}}var r=q.getFullYear()+"-"+(q.getMonth()+1<10?"0"+(q.getMonth()+1):q.getMonth()+1);if(e("#ctc-calendar-dropdown option[value="+r+"]").length>0){e("#ctc-calendar-dropdown").val(r).change()}}return false})}})(jQuery);